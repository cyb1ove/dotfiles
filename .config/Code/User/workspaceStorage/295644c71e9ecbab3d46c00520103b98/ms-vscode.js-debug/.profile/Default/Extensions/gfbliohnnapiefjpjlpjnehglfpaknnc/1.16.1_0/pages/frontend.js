(()=>{var e={486:function(e,t,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,l=64,f=128,d=256,p=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",_="[object Date]",k="[object Error]",S="[object Function]",x="[object GeneratorFunction]",E="[object Map]",C="[object Number]",T="[object Object]",O="[object Promise]",A="[object RegExp]",L="[object Set]",R="[object String]",I="[object Symbol]",N="[object WeakMap]",M="[object ArrayBuffer]",P="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",H="[object Int32Array]",K="[object Uint8Array]",j="[object Uint8ClampedArray]",q="[object Uint16Array]",z="[object Uint32Array]",W=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,Q=RegExp(G.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Le="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['’]",Ie="["+xe+"]",Ne="["+Le+"]",Me="["+Ee+"]",Pe="\\d+",Ue="["+Ce+"]",De="["+Te+"]",Be="[^"+xe+Le+Pe+Ce+Te+Oe+"]",Fe="\\ud83c[\\udffb-\\udfff]",He="[^"+xe+"]",Ke="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Oe+"]",ze="\\u200d",We="(?:"+De+"|"+Be+")",$e="(?:"+qe+"|"+Be+")",Ve="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Me+"|"+Fe+")"+"?",Qe="["+Ae+"]?",Xe=Qe+Ye+("(?:"+ze+"(?:"+[He,Ke,je].join("|")+")"+Qe+Ye+")*"),Ze="(?:"+[Ue,Ke,je].join("|")+")"+Xe,Je="(?:"+[He+Me+"?",Me,Ke,je,Ie].join("|")+")",et=RegExp(Re,"g"),tt=RegExp(Me,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Je+Xe,"g"),rt=RegExp([qe+"?"+De+"+"+Ve+"(?="+[Ne,qe,"$"].join("|")+")",$e+"+"+Ge+"(?="+[Ne,qe+We,"$"].join("|")+")",qe+"?"+We+"+"+Ve,qe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,Ze].join("|"),"g"),ot=RegExp("["+ze+xe+Ee+Ae+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[U]=st[D]=st[B]=st[F]=st[H]=st[K]=st[j]=st[q]=st[z]=!0,st[y]=st[b]=st[M]=st[w]=st[P]=st[_]=st[k]=st[S]=st[E]=st[C]=st[T]=st[A]=st[L]=st[R]=st[N]=!1;var ct={};ct[y]=ct[b]=ct[M]=ct[P]=ct[w]=ct[_]=ct[U]=ct[D]=ct[B]=ct[F]=ct[H]=ct[E]=ct[C]=ct[T]=ct[A]=ct[L]=ct[R]=ct[I]=ct[K]=ct[j]=ct[q]=ct[z]=!0,ct[k]=ct[S]=ct[N]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ht||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=wt&&wt.isArrayBuffer,kt=wt&&wt.isDate,St=wt&&wt.isMap,xt=wt&&wt.isRegExp,Et=wt&&wt.isSet,Ct=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Lt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Nt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Ut(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Dt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Bt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ht=Vt("length");function Kt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function jt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function qt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Wt,n)}function zt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Wt(e){return e!=e}function $t(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function Vt(e){return function(t){return null==t?o:t[e]}}function Gt(e){return function(t){return null==e?o:e[t]}}function Yt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Qt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Zt(e){return e?e.slice(0,gn(e)+1).replace(ae,""):e}function Jt(e){return function(t){return e(t)}}function en(e,t){return Pt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&qt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&qt(t,e[n],0)>-1;);return n}var on=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function sn(e){return ot.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,i[o++]=n)}return i}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ht(e)}function mn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var vn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,at))).Array,ue=t.Date,xe=t.Error,Ee=t.Function,Ce=t.Math,Te=t.Object,Oe=t.RegExp,Ae=t.String,Le=t.TypeError,Re=r.prototype,Ie=Ee.prototype,Ne=Te.prototype,Me=t["__core-js_shared__"],Pe=Ie.toString,Ue=Ne.hasOwnProperty,De=0,Be=(n=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Ne.toString,He=Pe.call(Te),Ke=mt._,je=Oe("^"+Pe.call(Ue).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=yt?t.Buffer:o,ze=t.Symbol,We=t.Uint8Array,$e=qe?qe.allocUnsafe:o,Ve=ln(Te.getPrototypeOf,Te),Ge=Te.create,Ye=Ne.propertyIsEnumerable,Qe=Re.splice,Xe=ze?ze.isConcatSpreadable:o,Ze=ze?ze.iterator:o,Je=ze?ze.toStringTag:o,nt=function(){try{var e=pi(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,lt=ue&&ue.now!==mt.Date.now&&ue.now,pt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=Ce.ceil,gt=Ce.floor,vt=Te.getOwnPropertySymbols,bt=qe?qe.isBuffer:o,wt=t.isFinite,Ht=Re.join,Gt=ln(Te.keys,Te),bn=Ce.max,wn=Ce.min,_n=ue.now,kn=t.parseInt,Sn=Ce.random,xn=Re.reverse,En=pi(t,"DataView"),Cn=pi(t,"Map"),Tn=pi(t,"Promise"),On=pi(t,"Set"),An=pi(t,"WeakMap"),Ln=pi(Te,"create"),Rn=An&&new An,In={},Nn=Fi(En),Mn=Fi(Cn),Pn=Fi(Tn),Un=Fi(On),Dn=Fi(An),Bn=ze?ze.prototype:o,Fn=Bn?Bn.valueOf:o,Hn=Bn?Bn.toString:o;function Kn(e){if(nu(e)&&!Wa(e)&&!(e instanceof Wn)){if(e instanceof zn)return e;if(Ue.call(e,"__wrapped__"))return Hi(e)}return new zn(e)}var jn=function(){function e(){}return function(t){if(!tu(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Xn(e,t){var n=Wa(e),r=!n&&za(e),o=!n&&!r&&Ya(e),i=!n&&!r&&!o&&lu(e),a=n||r||o||i,u=a?Xt(e.length,Ae):[],s=u.length;for(var c in e)!t&&!Ue.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wi(c,s))||u.push(c);return u}function Zn(e){var t=e.length;return t?e[Yr(0,t-1)]:o}function Jn(e,t){return Ui(Ro(e),sr(t,0,e.length))}function er(e){return Ui(Ro(e))}function tr(e,t,n){(n!==o&&!Ka(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Ue.call(e,t)&&Ka(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ka(e[n][0],t))return n;return-1}function or(e,t,n,r){return pr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&Io(t,Iu(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,i=t.length,a=r(i),u=null==e;++n<i;)a[n]=u?o:Tu(e,t[n]);return a}function sr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function cr(e,t,n,r,i,a){var u,s=1&t,c=2&t,l=4&t;if(n&&(u=i?n(e,r,i,a):n(e)),u!==o)return u;if(!tu(e))return e;var f=Wa(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ro(e,u)}else{var d=gi(e),p=d==S||d==x;if(Ya(e))return Eo(e,s);if(d==T||d==y||p&&!i){if(u=c||p?{}:yi(e),!s)return c?function(e,t){return Io(e,mi(e),t)}(e,function(e,t){return e&&Io(t,Nu(t),e)}(u,e)):function(e,t){return Io(e,hi(e),t)}(e,ir(u,e))}else{if(!ct[d])return i?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case M:return Co(e);case w:case _:return new r(+e);case P:return function(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case D:case B:case F:case H:case K:case j:case q:case z:return To(e,n);case E:return new r;case C:case R:return new r(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case L:return new r;case I:return o=e,Fn?Te(Fn.call(o)):{}}var o}(e,d,s)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,u),uu(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,a))})):ru(e)&&e.forEach((function(r,o){u.set(o,cr(r,t,n,o,e,a))}));var m=f?o:(l?c?ai:ii:c?Nu:Iu)(e);return At(m||e,(function(r,o){m&&(r=e[o=r]),nr(u,o,cr(r,t,n,o,e,a))})),u}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],a=t[i],u=e[i];if(u===o&&!(i in e)||!a(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Le(i);return Ii((function(){e.apply(o,n)}),t)}function dr(e,t,n,r){var o=-1,i=Nt,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Pt(t,Jt(n))),r?(i=Mt,a=!1):t.length>=200&&(i=tn,a=!1,t=new Yn(t));e:for(;++o<u;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;s.push(l)}else i(t,f,r)||s.push(l)}return s}Kn.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Kn}},Kn.prototype=qn.prototype,Kn.prototype.constructor=Kn,zn.prototype=jn(qn.prototype),zn.prototype.constructor=zn,Wn.prototype=jn(qn.prototype),Wn.prototype.constructor=Wn,$n.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(Ln){var n=t[e];return n===a?o:n}return Ue.call(t,e)?t[e]:o},$n.prototype.has=function(e){var t=this.__data__;return Ln?t[e]!==o:Ue.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ln&&t===o?a:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Vn.prototype.has=function(e){return rr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(Cn||Vn),string:new $n}},Gn.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return fi(this,e).get(e)},Gn.prototype.has=function(e){return fi(this,e).has(e)},Gn.prototype.set=function(e,t){var n=fi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,a),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var pr=Po(_r),hr=Po(kr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],u=t(a);if(null!=u&&(s===o?u==u&&!cu(u):n(u,s)))var s=u,c=a}return c}function vr(e,t){var n=[];return pr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=bi),o||(o=[]);++i<a;){var u=e[i];t>0&&n(u)?t>1?yr(u,t-1,n,r,o):Ut(o,u):r||(o[o.length]=u)}return o}var br=Uo(),wr=Uo(!0);function _r(e,t){return e&&br(e,t,Iu)}function kr(e,t){return e&&wr(e,t,Iu)}function Sr(e,t){return It(t,(function(t){return Za(e[t])}))}function xr(e,t){for(var n=0,r=(t=_o(t,e)).length;null!=e&&n<r;)e=e[Bi(t[n++])];return n&&n==r?e:o}function Er(e,t,n){var r=t(e);return Wa(e)?r:Ut(r,n(e))}function Cr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Ue.call(e,Je),n=e[Je];try{e[Je]=o;var r=!0}catch(e){}var i=Fe.call(e);r&&(t?e[Je]=n:delete e[Je]);return i}(e):function(e){return Fe.call(e)}(e)}function Tr(e,t){return e>t}function Or(e,t){return null!=e&&Ue.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Lr(e,t,n){for(var i=n?Mt:Nt,a=e[0].length,u=e.length,s=u,c=r(u),l=1/0,f=[];s--;){var d=e[s];s&&t&&(d=Pt(d,Jt(t))),l=wn(d.length,l),c[s]=!n&&(t||a>=120&&d.length>=120)?new Yn(s&&d):o}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var m=d[p],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?tn(h,g):i(f,g,n))){for(s=u;--s;){var v=c[s];if(!(v?tn(v,g):i(e[s],g,n)))continue e}h&&h.push(g),f.push(m)}}return f}function Rr(e,t,n){var r=null==(e=Ai(e,t=_o(t,e)))?e:e[Bi(Xi(t))];return null==r?o:Tt(r,e,n)}function Ir(e){return nu(e)&&Cr(e)==y}function Nr(e,t,n,r,i){return e===t||(null==e||null==t||!nu(e)&&!nu(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var u=Wa(e),s=Wa(t),c=u?b:gi(e),l=s?b:gi(t),f=(c=c==y?T:c)==T,d=(l=l==y?T:l)==T,p=c==l;if(p&&Ya(e)){if(!Ya(t))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Qn),u||lu(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case w:case _:case C:return Ka(+e,+t);case k:return e.name==t.name&&e.message==t.message;case A:case R:return e==t+"";case E:var u=cn;case L:var s=1&r;if(u||(u=dn),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ri(u(e),u(t),r,o,i,a);return a.delete(e),l;case I:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var h=f&&Ue.call(e,"__wrapped__"),m=d&&Ue.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return a||(a=new Qn),i(g,v,n,r,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,r,i,a){var u=1&n,s=ii(e),c=s.length,l=ii(t),f=l.length;if(c!=f&&!u)return!1;var d=c;for(;d--;){var p=s[d];if(!(u?p in t:Ue.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);var v=u;for(;++d<c;){var y=e[p=s[d]],b=t[p];if(r)var w=u?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(w===o?y===b||i(y,b,n,r,a):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var _=e.constructor,k=t.constructor;_==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof k&&k instanceof k||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,i,a)}(e,t,n,r,Nr,i))}function Mr(e,t,n,r){var i=n.length,a=i,u=!r;if(null==e)return!a;for(e=Te(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],l=e[c],f=s[1];if(u&&s[2]){if(l===o&&!(c in e))return!1}else{var d=new Qn;if(r)var p=r(l,f,c,e,t,d);if(!(p===o?Nr(f,l,3,r,d):p))return!1}}return!0}function Pr(e){return!(!tu(e)||(t=e,Be&&Be in t))&&(Za(e)?je:ye).test(Fi(e));var t}function Ur(e){return"function"==typeof e?e:null==e?os:"object"==typeof e?Wa(e)?jr(e[0],e[1]):Kr(e):ps(e)}function Dr(e){if(!Ei(e))return Gt(e);var t=[];for(var n in Te(e))Ue.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!tu(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ei(e),n=[];for(var r in e)("constructor"!=r||!t&&Ue.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Hr(e,t){var n=-1,o=Va(e)?r(e.length):[];return pr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Kr(e){var t=di(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function jr(e,t){return ki(e)&&Ci(t)?Ti(Bi(e),t):function(n){var r=Tu(n,e);return r===o&&r===t?Ou(n,e):Nr(t,r,3)}}function qr(e,t,n,r,i){e!==t&&br(t,(function(a,u){if(i||(i=new Qn),tu(a))!function(e,t,n,r,i,a,u){var s=Li(e,n),c=Li(t,n),l=u.get(c);if(l)return void tr(e,n,l);var f=a?a(s,c,n+"",e,t,u):o,d=f===o;if(d){var p=Wa(c),h=!p&&Ya(c),m=!p&&!h&&lu(c);f=c,p||h||m?Wa(s)?f=s:Ga(s)?f=Ro(s):h?(d=!1,f=Eo(c,!0)):m?(d=!1,f=To(c,!0)):f=[]:iu(c)||za(c)?(f=s,za(s)?f=yu(s):tu(s)&&!Za(s)||(f=yi(c))):d=!1}d&&(u.set(c,f),i(f,c,r,a,u),u.delete(c));tr(e,n,f)}(e,t,u,n,qr,r,i);else{var s=r?r(Li(e,u),a,u+"",e,t,i):o;s===o&&(s=a),tr(e,u,s)}}),Nu)}function zr(e,t){var n=e.length;if(n)return wi(t+=t<0?n:0,n)?e[t]:o}function Wr(e,t,n){t=t.length?Pt(t,(function(e){return Wa(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[os];var r=-1;t=Pt(t,Jt(li()));var o=Hr(e,(function(e,n,o){var i=Pt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,u=n.length;for(;++r<a;){var s=Oo(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function $r(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],u=xr(e,a);n(u,a)&&eo(i,_o(a,e),u)}return i}function Vr(e,t,n,r){var o=r?zt:qt,i=-1,a=t.length,u=e;for(e===t&&(t=Ro(t)),n&&(u=Pt(e,Jt(n)));++i<a;)for(var s=0,c=t[i],l=n?n(c):c;(s=o(u,l,s,r))>-1;)u!==e&&Qe.call(u,s,1),Qe.call(e,s,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;wi(o)?Qe.call(e,o,1):po(e,o)}}return e}function Yr(e,t){return e+gt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ni(Oi(e,t,os),e+"")}function Zr(e){return Zn(Ku(e))}function Jr(e,t){var n=Ku(e);return Ui(n,sr(t,0,n.length))}function eo(e,t,n,r){if(!tu(e))return e;for(var i=-1,a=(t=_o(t,e)).length,u=a-1,s=e;null!=s&&++i<a;){var c=Bi(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=u){var f=s[c];(l=r?r(f,c,s):o)===o&&(l=tu(f)?f:wi(t[i+1])?[]:{})}nr(s,c,l),s=s[c]}return e}var to=Rn?function(e,t){return Rn.set(e,t),e}:os,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:os;function ro(e){return Ui(Ku(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return pr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!cu(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return uo(e,t,os,n)}function uo(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=cu(t),l=t===o;i<a;){var f=gt((i+a)/2),d=n(e[f]),p=d!==o,h=null===d,m=d==d,g=cu(d);if(u)var v=r||m;else v=l?m&&(r||p):s?m&&p&&(r||!h):c?m&&p&&!h&&(r||!g):!h&&!g&&(r?d<=t:d<t);v?i=f+1:a=f}return wn(a,4294967294)}function so(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ka(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:cu(e)?m:+e}function lo(e){if("string"==typeof e)return e;if(Wa(e))return Pt(e,lo)+"";if(cu(e))return Hn?Hn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Nt,i=e.length,a=!0,u=[],s=u;if(n)a=!1,o=Mt;else if(i>=200){var c=t?null:Xo(e);if(c)return dn(c);a=!1,o=tn,s=new Yn}else s=t?[]:u;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(l)}else o(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u}function po(e,t){return null==(e=Ai(e,t=_o(t,e)))||delete e[Bi(Xi(t))]}function ho(e,t,n,r){return eo(e,t,n(xr(e,t)),r)}function mo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Ut([e],t.args))}),n)}function vo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var u=e[i],s=-1;++s<o;)s!=i&&(a[i]=dr(a[i]||u,e[s],t,n));return fo(yr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,u={};++r<i;){var s=r<a?t[r]:o;n(u,e[r],s)}return u}function bo(e){return Ga(e)?e:[]}function wo(e){return"function"==typeof e?e:os}function _o(e,t){return Wa(e)?e:ki(e,t)?[e]:Di(bu(e))}var ko=Xr;function So(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var xo=ot||function(e){return mt.clearTimeout(e)};function Eo(e,t){if(t)return e.slice();var n=e.length,r=$e?$e(n):new e.constructor(n);return e.copy(r),r}function Co(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function To(e,t){var n=t?Co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=cu(e),u=t!==o,s=null===t,c=t==t,l=cu(t);if(!s&&!l&&!a&&e>t||a&&u&&c&&!s&&!l||r&&u&&c||!n&&c||!i)return 1;if(!r&&!a&&!l&&e<t||l&&n&&i&&!r&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}function Ao(e,t,n,o){for(var i=-1,a=e.length,u=n.length,s=-1,c=t.length,l=bn(a-u,0),f=r(c+l),d=!o;++s<c;)f[s]=t[s];for(;++i<u;)(d||i<a)&&(f[n[i]]=e[i]);for(;l--;)f[s++]=e[i++];return f}function Lo(e,t,n,o){for(var i=-1,a=e.length,u=-1,s=n.length,c=-1,l=t.length,f=bn(a-s,0),d=r(f+l),p=!o;++i<f;)d[i]=e[i];for(var h=i;++c<l;)d[h+c]=t[c];for(;++u<s;)(p||i<a)&&(d[h+n[u]]=e[i++]);return d}function Ro(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Io(e,t,n,r){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=r?r(n[s],e[s],s,n,e):o;c===o&&(c=e[s]),i?ar(n,s,c):nr(n,s,c)}return n}function No(e,t){return function(n,r){var o=Wa(n)?Ot:or,i=t?t():{};return o(n,e,li(r,2),i)}}function Mo(e){return Xr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,u=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,u&&_i(n[0],n[1],u)&&(a=i<3?o:a,i=1),t=Te(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Po(e,t){return function(n,r){if(null==n)return n;if(!Va(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Te(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Uo(e){return function(t,n,r){for(var o=-1,i=Te(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(!1===n(i[s],s,i))break}return t}}function Do(e){return function(t){var n=sn(t=bu(t))?mn(t):o,r=n?n[0]:t.charAt(0),i=n?So(n,1).join(""):t.slice(1);return r[e]()+i}}function Bo(e){return function(t){return Dt(Zu(zu(t).replace(et,"")),e,"")}}function Fo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return tu(r)?r:n}}function Ho(e){return function(t,n,r){var i=Te(t);if(!Va(t)){var a=li(n,3);t=Iu(t),n=function(e){return a(i[e],e,i)}}var u=e(t,n,r);return u>-1?i[a?t[u]:u]:o}}function Ko(e){return oi((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Le(i);if(a&&!s&&"wrapper"==si(u))var s=new zn([],!0)}for(r=s?r:n;++r<n;){var c=si(u=t[r]),l="wrapper"==c?ui(u):o;s=l&&Si(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[si(l[0])].apply(s,l[3]):1==u.length&&Si(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Wa(r))return s.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function jo(e,t,n,i,a,u,s,c,l,d){var p=t&f,h=1&t,m=2&t,g=24&t,v=512&t,y=m?o:Fo(e);return function f(){for(var b=arguments.length,w=r(b),_=b;_--;)w[_]=arguments[_];if(g)var k=ci(f),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,k);if(i&&(w=Ao(w,i,a,g)),u&&(w=Lo(w,u,s,g)),b-=S,g&&b<d){var x=fn(w,k);return Yo(e,t,jo,f.placeholder,n,w,x,c,l,d-b)}var E=h?n:this,C=m?E[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=wn(t.length,n),i=Ro(e);for(;r--;){var a=t[r];e[r]=wi(a,n)?i[a]:o}return e}(w,c):v&&b>1&&w.reverse(),p&&l<b&&(w.length=l),this&&this!==mt&&this instanceof f&&(C=y||Fo(C)),C.apply(E,w)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function zo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=lo(n),r=lo(r)):(n=co(n),r=co(r)),i=e(n,r)}return i}}function Wo(e){return oi((function(t){return t=Pt(t,Jt(li())),Xr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function $o(e,t){var n=(t=t===o?" ":lo(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,ht(e/hn(t)));return sn(t)?So(mn(r),0,e).join(""):r.slice(0,e)}function Vo(e){return function(t,n,i){return i&&"number"!=typeof i&&_i(t,n,i)&&(n=i=o),t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n,o){for(var i=-1,a=bn(ht((t-e)/(n||1)),0),u=r(a);a--;)u[o?a:++i]=e,e+=n;return u}(t,n,i=i===o?t<n?1:-1:hu(i),e)}}function Go(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vu(t),n=vu(n)),e(t,n)}}function Yo(e,t,n,r,i,a,u,s,f,d){var p=8&t;t|=p?c:l,4&(t&=~(p?l:c))||(t&=-4);var h=[e,t,i,p?a:o,p?u:o,p?o:a,p?o:u,s,f,d],m=n.apply(o,h);return Si(e)&&Ri(m,h),m.placeholder=r,Mi(m,e,t)}function Qo(e){var t=Ce[e];return function(e,n){if(e=vu(e),(n=null==n?0:wn(mu(n),292))&&wt(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xo=On&&1/dn(new On([,-0]))[1]==p?function(e){return new On(e)}:cs;function Zo(e){return function(t){var n=gi(t);return n==E?cn(t):n==L?pn(t):function(e,t){return Pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jo(e,t,n,a,p,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Le(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),m=m===o?m:bn(mu(m),0),g=g===o?g:mu(g),y-=p?p.length:0,t&l){var b=a,w=p;a=p=o}var _=v?o:ui(e),k=[e,t,n,a,p,b,w,h,m,g];if(_&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ao(c,s,t[4]):s,e[4]=c?fn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Lo(c,s,t[6]):s,e[6]=c?fn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(k,_),e=k[0],t=k[1],n=k[2],a=k[3],p=k[4],!(g=k[9]=k[9]===o?v?0:e.length:bn(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==s?function(e,t,n){var i=Fo(e);return function a(){for(var u=arguments.length,s=r(u),c=u,l=ci(a);c--;)s[c]=arguments[c];var f=u<3&&s[0]!==l&&s[u-1]!==l?[]:fn(s,l);return(u-=f.length)<n?Yo(e,t,jo,a.placeholder,o,s,f,o,o,n-u):Tt(this&&this!==mt&&this instanceof a?i:e,this,s)}}(e,t,g):t!=c&&33!=t||p.length?jo.apply(o,k):function(e,t,n,o){var i=1&t,a=Fo(e);return function t(){for(var u=-1,s=arguments.length,c=-1,l=o.length,f=r(l+s),d=this&&this!==mt&&this instanceof t?a:e;++c<l;)f[c]=o[c];for(;s--;)f[c++]=arguments[++u];return Tt(d,i?n:this,f)}}(e,t,n,a);else var S=function(e,t,n){var r=1&t,o=Fo(e);return function t(){return(this&&this!==mt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Mi((_?to:Ri)(S,k),e,t)}function ei(e,t,n,r){return e===o||Ka(e,Ne[n])&&!Ue.call(r,n)?t:e}function ti(e,t,n,r,i,a){return tu(e)&&tu(t)&&(a.set(t,e),qr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return iu(e)?o:e}function ri(e,t,n,r,i,a){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Yn:o;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],g=t[d];if(r)var v=u?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(v!==o){if(v)continue;p=!1;break}if(h){if(!Ft(t,(function(e,t){if(!tn(h,t)&&(m===e||i(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==g&&!i(m,g,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function oi(e){return Ni(Oi(e,o,$i),e+"")}function ii(e){return Er(e,Iu,hi)}function ai(e){return Er(e,Nu,mi)}var ui=Rn?function(e){return Rn.get(e)}:cs;function si(e){for(var t=e.name+"",n=In[t],r=Ue.call(In,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Ue.call(Kn,"placeholder")?Kn:e).placeholder}function li(){var e=Kn.iteratee||is;return e=e===is?Ur:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function di(e){for(var t=Iu(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ci(o)]}return t}function pi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Pr(n)?n:o}var hi=vt?function(e){return null==e?[]:(e=Te(e),It(vt(e),(function(t){return Ye.call(e,t)})))}:gs,mi=vt?function(e){for(var t=[];e;)Ut(t,hi(e)),e=Ve(e);return t}:gs,gi=Cr;function vi(e,t,n){for(var r=-1,o=(t=_o(t,e)).length,i=!1;++r<o;){var a=Bi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&eu(o)&&wi(a,o)&&(Wa(e)||za(e))}function yi(e){return"function"!=typeof e.constructor||Ei(e)?{}:jn(Ve(e))}function bi(e){return Wa(e)||za(e)||!!(Xe&&e&&e[Xe])}function wi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function _i(e,t,n){if(!tu(n))return!1;var r=typeof t;return!!("number"==r?Va(n)&&wi(t,n.length):"string"==r&&t in n)&&Ka(n[t],e)}function ki(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function Si(e){var t=si(e),n=Kn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ui(n);return!!r&&e===r[0]}(En&&gi(new En(new ArrayBuffer(1)))!=P||Cn&&gi(new Cn)!=E||Tn&&gi(Tn.resolve())!=O||On&&gi(new On)!=L||An&&gi(new An)!=N)&&(gi=function(e){var t=Cr(e),n=t==T?e.constructor:o,r=n?Fi(n):"";if(r)switch(r){case Nn:return P;case Mn:return E;case Pn:return O;case Un:return L;case Dn:return N}return t});var xi=Me?Za:vs;function Ei(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Ci(e){return e==e&&!tu(e)}function Ti(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Te(n)))}}function Oi(e,t,n){return t=bn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=bn(o.length-t,0),u=r(a);++i<a;)u[i]=o[t+i];i=-1;for(var s=r(t+1);++i<t;)s[i]=o[i];return s[t]=n(u),Tt(e,this,s)}}function Ai(e,t){return t.length<2?e:xr(e,oo(t,0,-1))}function Li(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ri=Pi(to),Ii=pt||function(e,t){return mt.setTimeout(e,t)},Ni=Pi(no);function Mi(e,t,n){var r=t+"";return Ni(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(v,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Pi(e){var t=0,n=0;return function(){var r=_n(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ui(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Yr(n,i),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var Di=function(e){var t=Pa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Bi(e){if("string"==typeof e||cu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fi(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Hi(e){if(e instanceof Wn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ki=Xr((function(e,t){return Ga(e)?dr(e,yr(t,1,Ga,!0)):[]})),ji=Xr((function(e,t){var n=Xi(t);return Ga(n)&&(n=o),Ga(e)?dr(e,yr(t,1,Ga,!0),li(n,2)):[]})),qi=Xr((function(e,t){var n=Xi(t);return Ga(n)&&(n=o),Ga(e)?dr(e,yr(t,1,Ga,!0),o,n):[]}));function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:mu(n);return o<0&&(o=bn(r+o,0)),jt(e,li(t,3),o)}function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=mu(n),i=n<0?bn(r+i,0):wn(i,r-1)),jt(e,li(t,3),i,!0)}function $i(e){return(null==e?0:e.length)?yr(e,1):[]}function Vi(e){return e&&e.length?e[0]:o}var Gi=Xr((function(e){var t=Pt(e,bo);return t.length&&t[0]===e[0]?Lr(t):[]})),Yi=Xr((function(e){var t=Xi(e),n=Pt(e,bo);return t===Xi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Lr(n,li(t,2)):[]})),Qi=Xr((function(e){var t=Xi(e),n=Pt(e,bo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Lr(n,o,t):[]}));function Xi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Zi=Xr(Ji);function Ji(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Gr(e,Pt(t,(function(e){return wi(e,n)?+e:e})).sort(Oo)),r}));function ta(e){return null==e?e:xn.call(e)}var na=Xr((function(e){return fo(yr(e,1,Ga,!0))})),ra=Xr((function(e){var t=Xi(e);return Ga(t)&&(t=o),fo(yr(e,1,Ga,!0),li(t,2))})),oa=Xr((function(e){var t=Xi(e);return t="function"==typeof t?t:o,fo(yr(e,1,Ga,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if(Ga(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return Pt(e,Vt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Pt(n,(function(e){return Tt(t,o,e)}))}var ua=Xr((function(e,t){return Ga(e)?dr(e,t):[]})),sa=Xr((function(e){return vo(It(e,Ga))})),ca=Xr((function(e){var t=Xi(e);return Ga(t)&&(t=o),vo(It(e,Ga),li(t,2))})),la=Xr((function(e){var t=Xi(e);return t="function"==typeof t?t:o,vo(It(e,Ga),o,t)})),fa=Xr(ia);var da=Xr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function pa(e){var t=Kn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ma=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&wi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ga=No((function(e,t,n){Ue.call(e,n)?++e[n]:ar(e,n,1)}));var va=Ho(zi),ya=Ho(Wi);function ba(e,t){return(Wa(e)?At:pr)(e,li(t,3))}function wa(e,t){return(Wa(e)?Lt:hr)(e,li(t,3))}var _a=No((function(e,t,n){Ue.call(e,n)?e[n].push(t):ar(e,n,[t])}));var ka=Xr((function(e,t,n){var o=-1,i="function"==typeof t,a=Va(e)?r(e.length):[];return pr(e,(function(e){a[++o]=i?Tt(t,e,n):Rr(e,t,n)})),a})),Sa=No((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(Wa(e)?Pt:Hr)(e,li(t,3))}var Ea=No((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_i(e,t[0],t[1])?t=[]:n>2&&_i(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),Ta=lt||function(){return mt.Date.now()};function Oa(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Jo(e,f,o,o,o,o,t)}function Aa(e,t){var n;if("function"!=typeof t)throw new Le(i);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var La=Xr((function(e,t,n){var r=1;if(n.length){var o=fn(n,ci(La));r|=c}return Jo(e,r,t,n,o)})),Ra=Xr((function(e,t,n){var r=3;if(n.length){var o=fn(n,ci(Ra));r|=c}return Jo(t,r,e,n,o)}));function Ia(e,t,n){var r,a,u,s,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Le(i);function m(t){var n=r,i=a;return r=a=o,f=t,s=e.apply(i,n)}function g(e){var n=e-l;return l===o||n>=t||n<0||p&&e-f>=u}function v(){var e=Ta();if(g(e))return y(e);c=Ii(v,function(e){var n=t-(e-l);return p?wn(n,u-(e-f)):n}(e))}function y(e){return c=o,h&&r?m(e):(r=a=o,s)}function b(){var e=Ta(),n=g(e);if(r=arguments,a=this,l=e,n){if(c===o)return function(e){return f=e,c=Ii(v,t),d?m(e):s}(l);if(p)return xo(c),c=Ii(v,t),m(l)}return c===o&&(c=Ii(v,t)),s}return t=vu(t)||0,tu(n)&&(d=!!n.leading,u=(p="maxWait"in n)?bn(vu(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==o&&xo(c),f=0,r=l=a=c=o},b.flush=function(){return c===o?s:y(Ta())},b}var Na=Xr((function(e,t){return fr(e,1,t)})),Ma=Xr((function(e,t,n){return fr(e,vu(t)||0,n)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Le(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Pa.Cache||Gn),n}function Ua(e){if("function"!=typeof e)throw new Le(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=Gn;var Da=ko((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Pt(t[0],Jt(li())):Pt(yr(t,1),Jt(li()))).length;return Xr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)}))})),Ba=Xr((function(e,t){var n=fn(t,ci(Ba));return Jo(e,c,o,t,n)})),Fa=Xr((function(e,t){var n=fn(t,ci(Fa));return Jo(e,l,o,t,n)})),Ha=oi((function(e,t){return Jo(e,d,o,o,o,t)}));function Ka(e,t){return e===t||e!=e&&t!=t}var ja=Go(Tr),qa=Go((function(e,t){return e>=t})),za=Ir(function(){return arguments}())?Ir:function(e){return nu(e)&&Ue.call(e,"callee")&&!Ye.call(e,"callee")},Wa=r.isArray,$a=_t?Jt(_t):function(e){return nu(e)&&Cr(e)==M};function Va(e){return null!=e&&eu(e.length)&&!Za(e)}function Ga(e){return nu(e)&&Va(e)}var Ya=bt||vs,Qa=kt?Jt(kt):function(e){return nu(e)&&Cr(e)==_};function Xa(e){if(!nu(e))return!1;var t=Cr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iu(e)}function Za(e){if(!tu(e))return!1;var t=Cr(e);return t==S||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==mu(e)}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function tu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nu(e){return null!=e&&"object"==typeof e}var ru=St?Jt(St):function(e){return nu(e)&&gi(e)==E};function ou(e){return"number"==typeof e||nu(e)&&Cr(e)==C}function iu(e){if(!nu(e)||Cr(e)!=T)return!1;var t=Ve(e);if(null===t)return!0;var n=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==He}var au=xt?Jt(xt):function(e){return nu(e)&&Cr(e)==A};var uu=Et?Jt(Et):function(e){return nu(e)&&gi(e)==L};function su(e){return"string"==typeof e||!Wa(e)&&nu(e)&&Cr(e)==R}function cu(e){return"symbol"==typeof e||nu(e)&&Cr(e)==I}var lu=Ct?Jt(Ct):function(e){return nu(e)&&eu(e.length)&&!!st[Cr(e)]};var fu=Go(Fr),du=Go((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Va(e))return su(e)?mn(e):Ro(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=gi(e);return(t==E?cn:t==L?dn:Ku)(e)}function hu(e){return e?(e=vu(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function mu(e){var t=hu(e),n=t%1;return t==t?n?t-n:t:0}function gu(e){return e?sr(mu(e),0,g):0}function vu(e){if("number"==typeof e)return e;if(cu(e))return m;if(tu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var n=ve.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?m:+e}function yu(e){return Io(e,Nu(e))}function bu(e){return null==e?"":lo(e)}var wu=Mo((function(e,t){if(Ei(t)||Va(t))Io(t,Iu(t),e);else for(var n in t)Ue.call(t,n)&&nr(e,n,t[n])})),_u=Mo((function(e,t){Io(t,Nu(t),e)})),ku=Mo((function(e,t,n,r){Io(t,Nu(t),e,r)})),Su=Mo((function(e,t,n,r){Io(t,Iu(t),e,r)})),xu=oi(ur);var Eu=Xr((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&_i(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],u=Nu(a),s=-1,c=u.length;++s<c;){var l=u[s],f=e[l];(f===o||Ka(f,Ne[l])&&!Ue.call(e,l))&&(e[l]=a[l])}return e})),Cu=Xr((function(e){return e.push(o,ti),Tt(Pu,o,e)}));function Tu(e,t,n){var r=null==e?o:xr(e,t);return r===o?n:r}function Ou(e,t){return null!=e&&vi(e,t,Ar)}var Au=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ts(os)),Lu=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ue.call(e,t)?e[t].push(n):e[t]=[n]}),li),Ru=Xr(Rr);function Iu(e){return Va(e)?Xn(e):Dr(e)}function Nu(e){return Va(e)?Xn(e,!0):Br(e)}var Mu=Mo((function(e,t,n){qr(e,t,n)})),Pu=Mo((function(e,t,n,r){qr(e,t,n,r)})),Uu=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Pt(t,(function(t){return t=_o(t,e),r||(r=t.length>1),t})),Io(e,ai(e),n),r&&(n=cr(n,7,ni));for(var o=t.length;o--;)po(n,t[o]);return n}));var Du=oi((function(e,t){return null==e?{}:function(e,t){return $r(e,t,(function(t,n){return Ou(e,n)}))}(e,t)}));function Bu(e,t){if(null==e)return{};var n=Pt(ai(e),(function(e){return[e]}));return t=li(t),$r(e,n,(function(e,n){return t(e,n[0])}))}var Fu=Zo(Iu),Hu=Zo(Nu);function Ku(e){return null==e?[]:en(e,Iu(e))}var ju=Bo((function(e,t,n){return t=t.toLowerCase(),e+(n?qu(t):t)}));function qu(e){return Xu(bu(e).toLowerCase())}function zu(e){return(e=bu(e))&&e.replace(_e,on).replace(tt,"")}var Wu=Bo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$u=Bo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Vu=Do("toLowerCase");var Gu=Bo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yu=Bo((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var Qu=Bo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Do("toUpperCase");function Zu(e,t,n){return e=bu(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Ju=Xr((function(e,t){try{return Tt(e,o,t)}catch(e){return Xa(e)?e:new xe(e)}})),es=oi((function(e,t){return At(t,(function(t){t=Bi(t),ar(e,t,La(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Ko(),rs=Ko(!0);function os(e){return e}function is(e){return Ur("function"==typeof e?e:cr(e,1))}var as=Xr((function(e,t){return function(n){return Rr(n,e,t)}})),us=Xr((function(e,t){return function(n){return Rr(e,n,t)}}));function ss(e,t,n){var r=Iu(t),o=Sr(t,r);null!=n||tu(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Sr(t,Iu(t)));var i=!(tu(n)&&"chain"in n&&!n.chain),a=Za(e);return At(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ut([this.value()],arguments))})})),e}function cs(){}var ls=Wo(Pt),fs=Wo(Rt),ds=Wo(Ft);function ps(e){return ki(e)?Vt(Bi(e)):function(e){return function(t){return xr(t,e)}}(e)}var hs=Vo(),ms=Vo(!0);function gs(){return[]}function vs(){return!1}var ys=zo((function(e,t){return e+t}),0),bs=Qo("ceil"),ws=zo((function(e,t){return e/t}),1),_s=Qo("floor");var ks,Ss=zo((function(e,t){return e*t}),1),xs=Qo("round"),Es=zo((function(e,t){return e-t}),0);return Kn.after=function(e,t){if("function"!=typeof t)throw new Le(i);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},Kn.ary=Oa,Kn.assign=wu,Kn.assignIn=_u,Kn.assignInWith=ku,Kn.assignWith=Su,Kn.at=xu,Kn.before=Aa,Kn.bind=La,Kn.bindAll=es,Kn.bindKey=Ra,Kn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Kn.chain=pa,Kn.chunk=function(e,t,n){t=(n?_i(e,t,n):t===o)?1:bn(mu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,u=0,s=r(ht(i/t));a<i;)s[u++]=oo(e,a,a+=t);return s},Kn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Kn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Ut(Wa(n)?Ro(n):[n],yr(t,1))},Kn.cond=function(e){var t=null==e?0:e.length,n=li();return e=t?Pt(e,(function(e){if("function"!=typeof e[1])throw new Le(i);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}}))},Kn.conforms=function(e){return function(e){var t=Iu(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Kn.constant=ts,Kn.countBy=ga,Kn.create=function(e,t){var n=jn(e);return null==t?n:ir(n,t)},Kn.curry=function e(t,n,r){var i=Jo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Kn.curryRight=function e(t,n,r){var i=Jo(t,s,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Kn.debounce=Ia,Kn.defaults=Eu,Kn.defaultsDeep=Cu,Kn.defer=Na,Kn.delay=Ma,Kn.difference=Ki,Kn.differenceBy=ji,Kn.differenceWith=qi,Kn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:mu(t))<0?0:t,r):[]},Kn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:mu(t)))<0?0:t):[]},Kn.dropRightWhile=function(e,t){return e&&e.length?mo(e,li(t,3),!0,!0):[]},Kn.dropWhile=function(e,t){return e&&e.length?mo(e,li(t,3),!0):[]},Kn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&_i(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=mu(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:mu(r))<0&&(r+=i),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Kn.filter=function(e,t){return(Wa(e)?It:vr)(e,li(t,3))},Kn.flatMap=function(e,t){return yr(xa(e,t),1)},Kn.flatMapDeep=function(e,t){return yr(xa(e,t),p)},Kn.flatMapDepth=function(e,t,n){return n=n===o?1:mu(n),yr(xa(e,t),n)},Kn.flatten=$i,Kn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,p):[]},Kn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:mu(t)):[]},Kn.flip=function(e){return Jo(e,512)},Kn.flow=ns,Kn.flowRight=rs,Kn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Kn.functions=function(e){return null==e?[]:Sr(e,Iu(e))},Kn.functionsIn=function(e){return null==e?[]:Sr(e,Nu(e))},Kn.groupBy=_a,Kn.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Kn.intersection=Gi,Kn.intersectionBy=Yi,Kn.intersectionWith=Qi,Kn.invert=Au,Kn.invertBy=Lu,Kn.invokeMap=ka,Kn.iteratee=is,Kn.keyBy=Sa,Kn.keys=Iu,Kn.keysIn=Nu,Kn.map=xa,Kn.mapKeys=function(e,t){var n={};return t=li(t,3),_r(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},Kn.mapValues=function(e,t){var n={};return t=li(t,3),_r(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},Kn.matches=function(e){return Kr(cr(e,1))},Kn.matchesProperty=function(e,t){return jr(e,cr(t,1))},Kn.memoize=Pa,Kn.merge=Mu,Kn.mergeWith=Pu,Kn.method=as,Kn.methodOf=us,Kn.mixin=ss,Kn.negate=Ua,Kn.nthArg=function(e){return e=mu(e),Xr((function(t){return zr(t,e)}))},Kn.omit=Uu,Kn.omitBy=function(e,t){return Bu(e,Ua(li(t)))},Kn.once=function(e){return Aa(2,e)},Kn.orderBy=function(e,t,n,r){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=r?o:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Kn.over=ls,Kn.overArgs=Da,Kn.overEvery=fs,Kn.overSome=ds,Kn.partial=Ba,Kn.partialRight=Fa,Kn.partition=Ea,Kn.pick=Du,Kn.pickBy=Bu,Kn.property=ps,Kn.propertyOf=function(e){return function(t){return null==e?o:xr(e,t)}},Kn.pull=Zi,Kn.pullAll=Ji,Kn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,li(n,2)):e},Kn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,o,n):e},Kn.pullAt=ea,Kn.range=hs,Kn.rangeRight=ms,Kn.rearg=Ha,Kn.reject=function(e,t){return(Wa(e)?It:vr)(e,Ua(li(t,3)))},Kn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=li(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Gr(e,o),n},Kn.rest=function(e,t){if("function"!=typeof e)throw new Le(i);return Xr(e,t=t===o?t:mu(t))},Kn.reverse=ta,Kn.sampleSize=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:mu(t),(Wa(e)?Jn:Jr)(e,t)},Kn.set=function(e,t,n){return null==e?e:eo(e,t,n)},Kn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},Kn.shuffle=function(e){return(Wa(e)?er:ro)(e)},Kn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&_i(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===o?r:mu(n)),oo(e,t,n)):[]},Kn.sortBy=Ca,Kn.sortedUniq=function(e){return e&&e.length?so(e):[]},Kn.sortedUniqBy=function(e,t){return e&&e.length?so(e,li(t,2)):[]},Kn.split=function(e,t,n){return n&&"number"!=typeof n&&_i(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=lo(t))&&sn(e)?So(mn(e),0,n):e.split(t,n):[]},Kn.spread=function(e,t){if("function"!=typeof e)throw new Le(i);return t=null==t?0:bn(mu(t),0),Xr((function(n){var r=n[t],o=So(n,0,t);return r&&Ut(o,r),Tt(e,this,o)}))},Kn.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Kn.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:mu(t))<0?0:t):[]},Kn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:mu(t)))<0?0:t,r):[]},Kn.takeRightWhile=function(e,t){return e&&e.length?mo(e,li(t,3),!1,!0):[]},Kn.takeWhile=function(e,t){return e&&e.length?mo(e,li(t,3)):[]},Kn.tap=function(e,t){return t(e),e},Kn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Le(i);return tu(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ia(e,t,{leading:r,maxWait:t,trailing:o})},Kn.thru=ha,Kn.toArray=pu,Kn.toPairs=Fu,Kn.toPairsIn=Hu,Kn.toPath=function(e){return Wa(e)?Pt(e,Bi):cu(e)?[e]:Ro(Di(bu(e)))},Kn.toPlainObject=yu,Kn.transform=function(e,t,n){var r=Wa(e),o=r||Ya(e)||lu(e);if(t=li(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:tu(e)&&Za(i)?jn(Ve(e)):{}}return(o?At:_r)(e,(function(e,r,o){return t(n,e,r,o)})),n},Kn.unary=function(e){return Oa(e,1)},Kn.union=na,Kn.unionBy=ra,Kn.unionWith=oa,Kn.uniq=function(e){return e&&e.length?fo(e):[]},Kn.uniqBy=function(e,t){return e&&e.length?fo(e,li(t,2)):[]},Kn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Kn.unset=function(e,t){return null==e||po(e,t)},Kn.unzip=ia,Kn.unzipWith=aa,Kn.update=function(e,t,n){return null==e?e:ho(e,t,wo(n))},Kn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,wo(n),r)},Kn.values=Ku,Kn.valuesIn=function(e){return null==e?[]:en(e,Nu(e))},Kn.without=ua,Kn.words=Zu,Kn.wrap=function(e,t){return Ba(wo(t),e)},Kn.xor=sa,Kn.xorBy=ca,Kn.xorWith=la,Kn.zip=fa,Kn.zipObject=function(e,t){return yo(e||[],t||[],nr)},Kn.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},Kn.zipWith=da,Kn.entries=Fu,Kn.entriesIn=Hu,Kn.extend=_u,Kn.extendWith=ku,ss(Kn,Kn),Kn.add=ys,Kn.attempt=Ju,Kn.camelCase=ju,Kn.capitalize=qu,Kn.ceil=bs,Kn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=vu(n))==n?n:0),t!==o&&(t=(t=vu(t))==t?t:0),sr(vu(e),t,n)},Kn.clone=function(e){return cr(e,4)},Kn.cloneDeep=function(e){return cr(e,5)},Kn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:o)},Kn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:o)},Kn.conformsTo=function(e,t){return null==t||lr(e,t,Iu(t))},Kn.deburr=zu,Kn.defaultTo=function(e,t){return null==e||e!=e?t:e},Kn.divide=ws,Kn.endsWith=function(e,t,n){e=bu(e),t=lo(t);var r=e.length,i=n=n===o?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Kn.eq=Ka,Kn.escape=function(e){return(e=bu(e))&&X.test(e)?e.replace(Y,an):e},Kn.escapeRegExp=function(e){return(e=bu(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Kn.every=function(e,t,n){var r=Wa(e)?Rt:mr;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Kn.find=va,Kn.findIndex=zi,Kn.findKey=function(e,t){return Kt(e,li(t,3),_r)},Kn.findLast=ya,Kn.findLastIndex=Wi,Kn.findLastKey=function(e,t){return Kt(e,li(t,3),kr)},Kn.floor=_s,Kn.forEach=ba,Kn.forEachRight=wa,Kn.forIn=function(e,t){return null==e?e:br(e,li(t,3),Nu)},Kn.forInRight=function(e,t){return null==e?e:wr(e,li(t,3),Nu)},Kn.forOwn=function(e,t){return e&&_r(e,li(t,3))},Kn.forOwnRight=function(e,t){return e&&kr(e,li(t,3))},Kn.get=Tu,Kn.gt=ja,Kn.gte=qa,Kn.has=function(e,t){return null!=e&&vi(e,t,Or)},Kn.hasIn=Ou,Kn.head=Vi,Kn.identity=os,Kn.includes=function(e,t,n,r){e=Va(e)?e:Ku(e),n=n&&!r?mu(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),su(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&qt(e,t,n)>-1},Kn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:mu(n);return o<0&&(o=bn(r+o,0)),qt(e,t,o)},Kn.inRange=function(e,t,n){return t=hu(t),n===o?(n=t,t=0):n=hu(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=vu(e),t,n)},Kn.invoke=Ru,Kn.isArguments=za,Kn.isArray=Wa,Kn.isArrayBuffer=$a,Kn.isArrayLike=Va,Kn.isArrayLikeObject=Ga,Kn.isBoolean=function(e){return!0===e||!1===e||nu(e)&&Cr(e)==w},Kn.isBuffer=Ya,Kn.isDate=Qa,Kn.isElement=function(e){return nu(e)&&1===e.nodeType&&!iu(e)},Kn.isEmpty=function(e){if(null==e)return!0;if(Va(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||lu(e)||za(e)))return!e.length;var t=gi(e);if(t==E||t==L)return!e.size;if(Ei(e))return!Dr(e).length;for(var n in e)if(Ue.call(e,n))return!1;return!0},Kn.isEqual=function(e,t){return Nr(e,t)},Kn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Nr(e,t,o,n):!!r},Kn.isError=Xa,Kn.isFinite=function(e){return"number"==typeof e&&wt(e)},Kn.isFunction=Za,Kn.isInteger=Ja,Kn.isLength=eu,Kn.isMap=ru,Kn.isMatch=function(e,t){return e===t||Mr(e,t,di(t))},Kn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Mr(e,t,di(t),n)},Kn.isNaN=function(e){return ou(e)&&e!=+e},Kn.isNative=function(e){if(xi(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Kn.isNil=function(e){return null==e},Kn.isNull=function(e){return null===e},Kn.isNumber=ou,Kn.isObject=tu,Kn.isObjectLike=nu,Kn.isPlainObject=iu,Kn.isRegExp=au,Kn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=h},Kn.isSet=uu,Kn.isString=su,Kn.isSymbol=cu,Kn.isTypedArray=lu,Kn.isUndefined=function(e){return e===o},Kn.isWeakMap=function(e){return nu(e)&&gi(e)==N},Kn.isWeakSet=function(e){return nu(e)&&"[object WeakSet]"==Cr(e)},Kn.join=function(e,t){return null==e?"":Ht.call(e,t)},Kn.kebabCase=Wu,Kn.last=Xi,Kn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=mu(n))<0?bn(r+i,0):wn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):jt(e,Wt,i,!0)},Kn.lowerCase=$u,Kn.lowerFirst=Vu,Kn.lt=fu,Kn.lte=du,Kn.max=function(e){return e&&e.length?gr(e,os,Tr):o},Kn.maxBy=function(e,t){return e&&e.length?gr(e,li(t,2),Tr):o},Kn.mean=function(e){return $t(e,os)},Kn.meanBy=function(e,t){return $t(e,li(t,2))},Kn.min=function(e){return e&&e.length?gr(e,os,Fr):o},Kn.minBy=function(e,t){return e&&e.length?gr(e,li(t,2),Fr):o},Kn.stubArray=gs,Kn.stubFalse=vs,Kn.stubObject=function(){return{}},Kn.stubString=function(){return""},Kn.stubTrue=function(){return!0},Kn.multiply=Ss,Kn.nth=function(e,t){return e&&e.length?zr(e,mu(t)):o},Kn.noConflict=function(){return mt._===this&&(mt._=Ke),this},Kn.noop=cs,Kn.now=Ta,Kn.pad=function(e,t,n){e=bu(e);var r=(t=mu(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return $o(gt(o),n)+e+$o(ht(o),n)},Kn.padEnd=function(e,t,n){e=bu(e);var r=(t=mu(t))?hn(e):0;return t&&r<t?e+$o(t-r,n):e},Kn.padStart=function(e,t,n){e=bu(e);var r=(t=mu(t))?hn(e):0;return t&&r<t?$o(t-r,n)+e:e},Kn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(bu(e).replace(ae,""),t||0)},Kn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&_i(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hu(e),t===o?(t=e,e=0):t=hu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Sn();return wn(e+i*(t-e+ft("1e-"+((i+"").length-1))),t)}return Yr(e,t)},Kn.reduce=function(e,t,n){var r=Wa(e)?Dt:Yt,o=arguments.length<3;return r(e,li(t,4),n,o,pr)},Kn.reduceRight=function(e,t,n){var r=Wa(e)?Bt:Yt,o=arguments.length<3;return r(e,li(t,4),n,o,hr)},Kn.repeat=function(e,t,n){return t=(n?_i(e,t,n):t===o)?1:mu(t),Qr(bu(e),t)},Kn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Kn.result=function(e,t,n){var r=-1,i=(t=_o(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Bi(t[r])];a===o&&(r=i,a=n),e=Za(a)?a.call(e):a}return e},Kn.round=xs,Kn.runInContext=e,Kn.sample=function(e){return(Wa(e)?Zn:Zr)(e)},Kn.size=function(e){if(null==e)return 0;if(Va(e))return su(e)?hn(e):e.length;var t=gi(e);return t==E||t==L?e.size:Dr(e).length},Kn.snakeCase=Gu,Kn.some=function(e,t,n){var r=Wa(e)?Ft:io;return n&&_i(e,t,n)&&(t=o),r(e,li(t,3))},Kn.sortedIndex=function(e,t){return ao(e,t)},Kn.sortedIndexBy=function(e,t,n){return uo(e,t,li(n,2))},Kn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&Ka(e[r],t))return r}return-1},Kn.sortedLastIndex=function(e,t){return ao(e,t,!0)},Kn.sortedLastIndexBy=function(e,t,n){return uo(e,t,li(n,2),!0)},Kn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if(Ka(e[n],t))return n}return-1},Kn.startCase=Yu,Kn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(mu(n),0,e.length),t=lo(t),e.slice(n,n+t.length)==t},Kn.subtract=Es,Kn.sum=function(e){return e&&e.length?Qt(e,os):0},Kn.sumBy=function(e,t){return e&&e.length?Qt(e,li(t,2)):0},Kn.template=function(e,t,n){var r=Kn.templateSettings;n&&_i(e,t,n)&&(t=o),e=bu(e),t=ku({},t,r,ei);var i,a,u=ku({},t.imports,r.imports,ei),s=Iu(u),c=en(u,s),l=0,f=t.interpolate||ke,d="__p += '",p=Oe((t.escape||ke).source+"|"+f.source+"|"+(f===ee?he:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),h="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(p,(function(t,n,r,o,u,s){return r||(r=o),d+=e.slice(l,s).replace(Se,un),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),u&&(a=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=s+t.length,t})),d+="';\n";var m=Ue.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new xe("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace($,"$1").replace(V,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ju((function(){return Ee(s,h+"return "+d).apply(o,c)}));if(g.source=d,Xa(g))throw g;return g},Kn.times=function(e,t){if((e=mu(e))<1||e>h)return[];var n=g,r=wn(e,g);t=li(t),e-=g;for(var o=Xt(r,t);++n<e;)t(n);return o},Kn.toFinite=hu,Kn.toInteger=mu,Kn.toLength=gu,Kn.toLower=function(e){return bu(e).toLowerCase()},Kn.toNumber=vu,Kn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,h):0===e?e:0},Kn.toString=bu,Kn.toUpper=function(e){return bu(e).toUpperCase()},Kn.trim=function(e,t,n){if((e=bu(e))&&(n||t===o))return Zt(e);if(!e||!(t=lo(t)))return e;var r=mn(e),i=mn(t);return So(r,nn(r,i),rn(r,i)+1).join("")},Kn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=lo(t)))return e;var r=mn(e);return So(r,0,rn(r,mn(t))+1).join("")},Kn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=lo(t)))return e;var r=mn(e);return So(r,nn(r,mn(t))).join("")},Kn.truncate=function(e,t){var n=30,r="...";if(tu(t)){var i="separator"in t?t.separator:i;n="length"in t?mu(t.length):n,r="omission"in t?lo(t.omission):r}var a=(e=bu(e)).length;if(sn(e)){var u=mn(e);a=u.length}if(n>=a)return e;var s=n-hn(r);if(s<1)return r;var c=u?So(u,0,s).join(""):e.slice(0,s);if(i===o)return c+r;if(u&&(s+=c.length-s),au(i)){if(e.slice(s).search(i)){var l,f=c;for(i.global||(i=Oe(i.source,bu(me.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var d=l.index;c=c.slice(0,d===o?s:d)}}else if(e.indexOf(lo(i),s)!=s){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},Kn.unescape=function(e){return(e=bu(e))&&Q.test(e)?e.replace(G,vn):e},Kn.uniqueId=function(e){var t=++De;return bu(e)+t},Kn.upperCase=Qu,Kn.upperFirst=Xu,Kn.each=ba,Kn.eachRight=wa,Kn.first=Vi,ss(Kn,(ks={},_r(Kn,(function(e,t){Ue.call(Kn.prototype,t)||(ks[t]=e)})),ks),{chain:!1}),Kn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Kn[e].placeholder=Kn})),At(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:bn(mu(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:li(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(os)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Rr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ua(li(e)))},Wn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Kn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Kn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Wn,c=u[0],l=s||Wa(t),f=function(e){var t=i.apply(Kn,Ut([e],u));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,m=s&&!p;if(!a&&l){t=m?t:new Wn(this);var g=e.apply(t,u);return g.__actions__.push({func:ha,args:[f],thisArg:o}),new zn(g,d)}return h&&m?e.apply(this,u):(g=this.thru(f),h?r?g.value()[0]:g.value():g)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Kn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Wa(o)?o:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=Kn[t];if(n){var r=n.name+"";Ue.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[jo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ro(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,d=0,p=wn(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return go(e,this.__actions__);var h=[];e:for(;s--&&d<p;){for(var m=-1,g=e[c+=t];++m<f;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[d++]=g}return h},Kn.prototype.at=ma,Kn.prototype.chain=function(){return pa(this)},Kn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Kn.prototype.next=function(){this.__values__===o&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Kn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Hi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Kn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:o}),new zn(t,this.__chain__)}return this.thru(ta)},Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Kn.prototype.first=Kn.prototype.head,Ze&&(Kn.prototype[Ze]=function(){return this}),Kn}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},234:function(e){
/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */
e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,o,i){return r=n()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},r.apply(null,arguments)}function o(e){return i(e)||a(e)||u(e)||c()}function i(e){if(Array.isArray(e))return s(e)}function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,d=Object.isFrozen,p=Object.getPrototypeOf,h=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,y="undefined"!=typeof Reflect&&Reflect,b=y.apply,w=y.construct;b||(b=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return r(e,o(t))});var _=I(Array.prototype.forEach),k=I(Array.prototype.pop),S=I(Array.prototype.push),x=I(String.prototype.toLowerCase),E=I(String.prototype.toString),C=I(String.prototype.match),T=I(String.prototype.replace),O=I(String.prototype.indexOf),A=I(String.prototype.trim),L=I(RegExp.prototype.test),R=N(TypeError);function I(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return b(e,t,r)}}function N(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(e,n)}}function M(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:x,f&&f(e,null);for(var o=t.length;o--;){var i=t[o];if("string"==typeof i){var a=n(i);a!==i&&(d(t)||(t[o]=a),i=a)}e[i]=!0}return e}function P(e){var t,n=v(null);for(t in e)!0===b(l,e,[t])&&(n[t]=e[t]);return n}function U(e,t){for(;null!==e;){var n=h(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=p(e)}function r(e){return console.warn("fallback value for",e),null}return r}var D=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),F=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),H=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),K=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),q=m(["#text"]),z=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y=g(/<%[\w\W]*|[\w\W]*%>/gm),Q=g(/\${[\w\W]*}/gm),X=g(/^data-[\-\w.\u00B7-\uFFFF]/),Z=g(/^aria-[\-\w]+$/),J=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),re=function(){return"undefined"==typeof window?null:window},oe=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(r=n.currentScript.getAttribute(o));var i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re(),n=function(e){return ie(e)};if(n.version="2.4.7",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,i=t.document,a=t.DocumentFragment,u=t.HTMLTemplateElement,s=t.Node,c=t.Element,l=t.NodeFilter,f=t.NamedNodeMap,d=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,p=t.HTMLFormElement,h=t.DOMParser,g=t.trustedTypes,v=c.prototype,y=U(v,"cloneNode"),b=U(v,"nextSibling"),w=U(v,"childNodes"),I=U(v,"parentNode");if("function"==typeof u){var N=i.createElement("template");N.content&&N.content.ownerDocument&&(i=N.content.ownerDocument)}var ae=oe(g,r),ue=ae?ae.createHTML(""):"",se=i,ce=se.implementation,le=se.createNodeIterator,fe=se.createDocumentFragment,de=se.getElementsByTagName,pe=r.importNode,he={};try{he=P(i).documentMode?i.documentMode:{}}catch(e){}var me={};n.isSupported="function"==typeof I&&ce&&void 0!==ce.createHTMLDocument&&9!==he;var ge,ve,ye=G,be=Y,we=Q,_e=X,ke=Z,Se=ee,xe=te,Ee=J,Ce=null,Te=M({},[].concat(o(D),o(B),o(F),o(K),o(q))),Oe=null,Ae=M({},[].concat(o(z),o(W),o($),o(V))),Le=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Re=null,Ie=null,Ne=!0,Me=!0,Pe=!1,Ue=!0,De=!1,Be=!1,Fe=!1,He=!1,Ke=!1,je=!1,qe=!1,ze=!0,We=!1,$e="user-content-",Ve=!0,Ge=!1,Ye={},Qe=null,Xe=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ze=null,Je=M({},["audio","video","img","source","image","track"]),et=null,tt=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",ot="http://www.w3.org/1999/xhtml",it=ot,at=!1,ut=null,st=M({},[nt,rt,ot],E),ct=["application/xhtml+xml","text/html"],lt="text/html",ft=null,dt=i.createElement("form"),pt=function(e){return e instanceof RegExp||e instanceof Function},ht=function(t){ft&&ft===t||(t&&"object"===e(t)||(t={}),t=P(t),ge=ge=-1===ct.indexOf(t.PARSER_MEDIA_TYPE)?lt:t.PARSER_MEDIA_TYPE,ve="application/xhtml+xml"===ge?E:x,Ce="ALLOWED_TAGS"in t?M({},t.ALLOWED_TAGS,ve):Te,Oe="ALLOWED_ATTR"in t?M({},t.ALLOWED_ATTR,ve):Ae,ut="ALLOWED_NAMESPACES"in t?M({},t.ALLOWED_NAMESPACES,E):st,et="ADD_URI_SAFE_ATTR"in t?M(P(tt),t.ADD_URI_SAFE_ATTR,ve):tt,Ze="ADD_DATA_URI_TAGS"in t?M(P(Je),t.ADD_DATA_URI_TAGS,ve):Je,Qe="FORBID_CONTENTS"in t?M({},t.FORBID_CONTENTS,ve):Xe,Re="FORBID_TAGS"in t?M({},t.FORBID_TAGS,ve):{},Ie="FORBID_ATTR"in t?M({},t.FORBID_ATTR,ve):{},Ye="USE_PROFILES"in t&&t.USE_PROFILES,Ne=!1!==t.ALLOW_ARIA_ATTR,Me=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,De=t.SAFE_FOR_TEMPLATES||!1,Be=t.WHOLE_DOCUMENT||!1,Ke=t.RETURN_DOM||!1,je=t.RETURN_DOM_FRAGMENT||!1,qe=t.RETURN_TRUSTED_TYPE||!1,He=t.FORCE_BODY||!1,ze=!1!==t.SANITIZE_DOM,We=t.SANITIZE_NAMED_PROPS||!1,Ve=!1!==t.KEEP_CONTENT,Ge=t.IN_PLACE||!1,Ee=t.ALLOWED_URI_REGEXP||Ee,it=t.NAMESPACE||ot,Le=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&pt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Le.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Me=!1),je&&(Ke=!0),Ye&&(Ce=M({},o(q)),Oe=[],!0===Ye.html&&(M(Ce,D),M(Oe,z)),!0===Ye.svg&&(M(Ce,B),M(Oe,W),M(Oe,V)),!0===Ye.svgFilters&&(M(Ce,F),M(Oe,W),M(Oe,V)),!0===Ye.mathMl&&(M(Ce,K),M(Oe,$),M(Oe,V))),t.ADD_TAGS&&(Ce===Te&&(Ce=P(Ce)),M(Ce,t.ADD_TAGS,ve)),t.ADD_ATTR&&(Oe===Ae&&(Oe=P(Oe)),M(Oe,t.ADD_ATTR,ve)),t.ADD_URI_SAFE_ATTR&&M(et,t.ADD_URI_SAFE_ATTR,ve),t.FORBID_CONTENTS&&(Qe===Xe&&(Qe=P(Qe)),M(Qe,t.FORBID_CONTENTS,ve)),Ve&&(Ce["#text"]=!0),Be&&M(Ce,["html","head","body"]),Ce.table&&(M(Ce,["tbody"]),delete Re.tbody),m&&m(t),ft=t)},mt=M({},["mi","mo","mn","ms","mtext"]),gt=M({},["foreignobject","desc","title","annotation-xml"]),vt=M({},["title","style","font","a","script"]),yt=M({},B);M(yt,F),M(yt,H);var bt=M({},K);M(bt,j);var wt=function(e){var t=I(e);t&&t.tagName||(t={namespaceURI:it,tagName:"template"});var n=x(e.tagName),r=x(t.tagName);return!!ut[e.namespaceURI]&&(e.namespaceURI===rt?t.namespaceURI===ot?"svg"===n:t.namespaceURI===nt?"svg"===n&&("annotation-xml"===r||mt[r]):Boolean(yt[n]):e.namespaceURI===nt?t.namespaceURI===ot?"math"===n:t.namespaceURI===rt?"math"===n&&gt[r]:Boolean(bt[n]):e.namespaceURI===ot?!(t.namespaceURI===rt&&!gt[r])&&!(t.namespaceURI===nt&&!mt[r])&&!bt[n]&&(vt[n]||!yt[n]):!("application/xhtml+xml"!==ge||!ut[e.namespaceURI]))},_t=function(e){S(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ue}catch(t){e.remove()}}},kt=function(e,t){try{S(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){S(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Oe[e])if(Ke||je)try{_t(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},St=function(e){var t,n;if(He)e="<remove></remove>"+e;else{var r=C(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ge&&it===ot&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=ae?ae.createHTML(e):e;if(it===ot)try{t=(new h).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(it,"template",null);try{t.documentElement.innerHTML=at?ue:o}catch(e){}}var a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),it===ot?de.call(t,Be?"html":"body")[0]:Be?t.documentElement:a},xt=function(e){return le.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Et=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ct=function(t){return"object"===e(s)?t instanceof s:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Tt=function(e,t,r){me[e]&&_(me[e],(function(e){e.call(n,t,r,ft)}))},Ot=function(e){var t;if(Tt("beforeSanitizeElements",e,null),Et(e))return _t(e),!0;if(L(/[\u0080-\uFFFF]/,e.nodeName))return _t(e),!0;var r=ve(e.nodeName);if(Tt("uponSanitizeElement",e,{tagName:r,allowedTags:Ce}),e.hasChildNodes()&&!Ct(e.firstElementChild)&&(!Ct(e.content)||!Ct(e.content.firstElementChild))&&L(/<[/\w]/g,e.innerHTML)&&L(/<[/\w]/g,e.textContent))return _t(e),!0;if("select"===r&&L(/<template/i,e.innerHTML))return _t(e),!0;if(!Ce[r]||Re[r]){if(!Re[r]&&Lt(r)){if(Le.tagNameCheck instanceof RegExp&&L(Le.tagNameCheck,r))return!1;if(Le.tagNameCheck instanceof Function&&Le.tagNameCheck(r))return!1}if(Ve&&!Qe[r]){var o=I(e)||e.parentNode,i=w(e)||e.childNodes;if(i&&o)for(var a=i.length-1;a>=0;--a)o.insertBefore(y(i[a],!0),b(e))}return _t(e),!0}return e instanceof c&&!wt(e)?(_t(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!L(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,t=T(t,ye," "),t=T(t,be," "),t=T(t,we," "),e.textContent!==t&&(S(n.removed,{element:e.cloneNode()}),e.textContent=t)),Tt("afterSanitizeElements",e,null),!1):(_t(e),!0)},At=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in i||n in dt))return!1;if(Me&&!Ie[t]&&L(_e,t));else if(Ne&&L(ke,t));else if(!Oe[t]||Ie[t]){if(!(Lt(e)&&(Le.tagNameCheck instanceof RegExp&&L(Le.tagNameCheck,e)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(e))&&(Le.attributeNameCheck instanceof RegExp&&L(Le.attributeNameCheck,t)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(t))||"is"===t&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&L(Le.tagNameCheck,n)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(n))))return!1}else if(et[t]);else if(L(Ee,T(n,xe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==O(n,"data:")||!Ze[e])if(Pe&&!L(Se,T(n,xe,"")));else if(n)return!1;return!0},Lt=function(e){return e.indexOf("-")>0},Rt=function(t){var r,o,i,a;Tt("beforeSanitizeAttributes",t,null);var u=t.attributes;if(u){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe};for(a=u.length;a--;){var c=r=u[a],l=c.name,f=c.namespaceURI;if(o="value"===l?r.value:A(r.value),i=ve(l),s.attrName=i,s.attrValue=o,s.keepAttr=!0,s.forceKeepAttr=void 0,Tt("uponSanitizeAttribute",t,s),o=s.attrValue,!s.forceKeepAttr&&(kt(l,t),s.keepAttr))if(Ue||!L(/\/>/i,o)){De&&(o=T(o,ye," "),o=T(o,be," "),o=T(o,we," "));var d=ve(t.nodeName);if(At(d,i,o)){if(!We||"id"!==i&&"name"!==i||(kt(l,t),o=$e+o),ae&&"object"===e(g)&&"function"==typeof g.getAttributeType)if(f);else switch(g.getAttributeType(d,i)){case"TrustedHTML":o=ae.createHTML(o);break;case"TrustedScriptURL":o=ae.createScriptURL(o)}try{f?t.setAttributeNS(f,l,o):t.setAttribute(l,o),k(n.removed)}catch(e){}}}else kt(l,t)}Tt("afterSanitizeAttributes",t,null)}},It=function e(t){var n,r=xt(t);for(Tt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Tt("uponSanitizeShadowNode",n,null),Ot(n)||(n.content instanceof a&&e(n.content),Rt(n));Tt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(o){var i,u,c,l,f,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((at=!o)&&(o="\x3c!--\x3e"),"string"!=typeof o&&!Ct(o)){if("function"!=typeof o.toString)throw R("toString is not a function");if("string"!=typeof(o=o.toString()))throw R("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof o)return t.toStaticHTML(o);if(Ct(o))return t.toStaticHTML(o.outerHTML)}return o}if(Fe||ht(d),n.removed=[],"string"==typeof o&&(Ge=!1),Ge){if(o.nodeName){var p=ve(o.nodeName);if(!Ce[p]||Re[p])throw R("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof s)1===(u=(i=St("\x3c!----\x3e")).ownerDocument.importNode(o,!0)).nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?i=u:i.appendChild(u);else{if(!Ke&&!De&&!Be&&-1===o.indexOf("<"))return ae&&qe?ae.createHTML(o):o;if(!(i=St(o)))return Ke?null:qe?ue:""}i&&He&&_t(i.firstChild);for(var h=xt(Ge?o:i);c=h.nextNode();)3===c.nodeType&&c===l||Ot(c)||(c.content instanceof a&&It(c.content),Rt(c),l=c);if(l=null,Ge)return o;if(Ke){if(je)for(f=fe.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return(Oe.shadowroot||Oe.shadowrootmod)&&(f=pe.call(r,f,!0)),f}var m=Be?i.outerHTML:i.innerHTML;return Be&&Ce["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&L(ne,i.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+m),De&&(m=T(m,ye," "),m=T(m,be," "),m=T(m,we," ")),ae&&qe?ae.createHTML(m):m},n.setConfig=function(e){ht(e),Fe=!0},n.clearConfig=function(){ft=null,Fe=!1},n.isValidAttribute=function(e,t,n){ft||ht({});var r=ve(e),o=ve(t);return At(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],S(me[e],t))},n.removeHook=function(e){if(me[e])return k(me[e])},n.removeHooks=function(e){me[e]&&(me[e]=[])},n.removeAllHooks=function(){me={}},n}return ie()}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e="function"==typeof btoa,t="function"==typeof Buffer,r=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),o=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),i=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(o),String.fromCharCode.bind(String)),a=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),u=e=>{let t,n,r,i,a="";const u=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(i=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,a+=o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}return u?a.slice(0,u-3)+"===".substring(u):a},s=e?e=>btoa(e):t?e=>Buffer.from(e,"binary").toString("base64"):u,c=t?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(i.apply(null,e.subarray(n,n+4096)));return s(t.join(""))},l=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?i(192|t>>>6)+i(128|63&t):i(224|t>>>12&15)+i(128|t>>>6&63)+i(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return i(240|t>>>18&7)+i(128|t>>>12&63)+i(128|t>>>6&63)+i(128|63&t)},f=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=e=>e.replace(f,l),p=t?e=>Buffer.from(e,"utf8").toString("base64"):r?e=>c(r.encode(e)):e=>s(d(e)),h=(e,t=!1)=>t?a(p(e)):p(e);var m=n(234);const g={keyCodesMac:{Minus:["-","_"],Equal:["=","+"],BracketLeft:["[","{"],BracketRight:["]","}"],Backslash:["\\","|"],Semicolon:[";",":"],Quote:["'",'"'],Comma:[",","<"],Period:[".",">"],Slash:["/","?"]},keyCodes:{ESC:27,backspace:8,deleteKey:46,enter:13,ctrlEnter:10,space:32,shiftKey:16,ctrlKey:17,f1:112,f12:123,comma:188,tab:9,downArrow:40,upArrow:38},modifierKeys:{16:"Shift",17:"Ctrl",18:"Alt",91:"Meta",92:"Meta",93:"ContextMenu",229:"Process"},keyNames:{8:"Backspace",9:"Tab",12:"NumLock",27:"Esc",32:"Space",46:"Delete"},keyIdentifierCorrectionMap:{"U+00C0":["U+0060","U+007E"],"U+0030":["U+0030","U+0029"],"U+0031":["U+0031","U+0021"],"U+0032":["U+0032","U+0040"],"U+0033":["U+0033","U+0023"],"U+0034":["U+0034","U+0024"],"U+0035":["U+0035","U+0025"],"U+0036":["U+0036","U+005E"],"U+0037":["U+0037","U+0026"],"U+0038":["U+0038","U+002A"],"U+0039":["U+0039","U+0028"],"U+00BD":["U+002D","U+005F"],"U+00BB":["U+003D","U+002B"],"U+00DB":["U+005B","U+007B"],"U+00DD":["U+005D","U+007D"],"U+00DC":["U+005C","U+007C"],"U+00BA":["U+003B","U+003A"],"U+00DE":["U+0027","U+0022"],"U+00BC":["U+002C","U+003C"],"U+00BE":["U+002E","U+003E"],"U+00BF":["U+002F","U+003F"]}};var v="Windows";function y(e,t){var n,r=0;return-1!==e.indexOf("Ctrl-")&&(r|=1),-1!==e.indexOf("Alt-")&&(r|=2),-1!==e.indexOf("Meta-")&&(r|=4),-1!==e.indexOf("Shift-")&&(r|=8),n=8192+((n=t.length>1?256+g.specialKeys.indexOf(t):t.charCodeAt(0))<<4)+r,String.fromCharCode(n)}"undefined"!=typeof navigator&&(-1!==navigator.platform.indexOf("Mac")?v="Mac":-1!==navigator.userAgent.indexOf("Linux")&&(v="Linux")),g.getKeyChar=function(e){var t;if(e.keyCode in this.modifierKeys)t="";else{if(this.keyNames.hasOwnProperty(e.keyCode))t="{0}".format(this.keyNames[e.keyCode]);else if(t=e.key||"",-1!==["Shift","Meta","Alt","Ctrl"].indexOf(t)&&(t=""),t)t.charCodeAt(0)>127||"Dead"===t?e.keyCode<127?(t=String.fromCharCode(e.keyCode),t=e.shiftKey?t:t.toLowerCase()):this.keyCodesMac.hasOwnProperty(e.code)&&(t=this.keyCodesMac[e.code][e.shiftKey?1:0]):"Unidentified"===t&&(t="");else if(e.keyIdentifier)if("U+"!==e.keyIdentifier.slice(0,2))t="{0}".format(e.keyIdentifier);else{var n=e.keyIdentifier;if(("Windows"===v||"Linux"===v)&&this.keyIdentifierCorrectionMap[n]){var r=this.keyIdentifierCorrectionMap[n];n=e.shiftKey?r[1]:r[0]}var o="0x"+n.substring(2);t=String.fromCharCode(parseInt(o)),t=e.shiftKey?t:t.toLowerCase()}e.shiftKey&&t.length>1&&(t="Shift-"+t),t.length>0&&(e.metaKey&&(t="Meta-"+t),e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t)),t.length>1&&(t="<{0}>".format(t))}return g.decodeKeystroke(g.encodeKeystroke(t))===t&&(t=g.encodeKeystroke(t)),t},g.isWordChar=function(e){return e.keyCode<123&&e.keyCode>=97||e.keyCode<91&&e.keyCode>=65||e.keyCode<58&&e.keyCode>=48},g.encodeKeystroke=function(e){for(var t,n=/<(?:Ctrl-)?(?:Alt-)?(?:Meta-)?(?:Shift-)?([^>]+|.)>/g,r="",o=0;null!==(t=n.exec(e));)r+=e.substr(o,t.index-o),r+=y(t[0],t[1]),o=n.lastIndex;return r+=e.substr(o)},g.specialKeys=["Esc","Space","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Backspace","Enter","Tab","Delete","End","Home","Insert","NumLock","PageDown","PageUp","Pause","ScrollLock","CapsLock","PrintScreen","Escape","Hyper"],g.decodeKeystroke=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n].charCodeAt(0);if(r>8192){var o=(r-=8192)%4096>>4,i=15&r;r=r>>12?g.specialKeys[o%256]:String.fromCharCode(o),8&i&&(r="Shift-"+r),4&i&&(r="Meta-"+r),2&i&&(r="Alt-"+r),1&i&&(r="Ctrl-"+r),t+="<"+r+">"}else t+=e[n]}return t};const b=g;function w(e,t){document.dispatchEvent(new CustomEvent(`surfingkeys:${e}`,{detail:t}))}function _(e,t,n){(t=t||{}).action=e,-1!==["closeTab","nextTab","previousTab","moveTab","reloadTab","setZoom","closeTabLeft","closeTabRight","focusTabByIndex"].indexOf(e)&&(t.repeats=_.repeats,_.repeats=1);try{t.needResponse=void 0!==n,chrome.runtime.sendMessage(t,n),"read"===e&&k.on("onTtsEvent",n)}catch(e){w("showPopup",["[runtime exception] "+e])}}var k=function(){var e={conf:{autoSpeakOnInlineQuery:!1,lastKeys:"",blocklistPattern:void 0,lurkingPattern:void 0,smartCase:!0,caseSensitive:!1,clickablePat:/(https?:\/\/|thunder:\/\/|magnet:)\S+/gi,clickableSelector:"",editableSelector:"div.CodeMirror-scroll,div.ace_content",cursorAtEndOfInput:!0,defaultSearchEngine:"g",defaultVoice:"Daniel",editableBodyCare:!0,enableAutoFocus:!0,enableEmojiInsertion:!1,experiment:!1,focusFirstCandidate:!1,focusOnSaved:!0,hintAlign:"center",hintExplicit:!1,hintShiftNonActive:!1,historyMUOrder:!0,language:void 0,lastQuery:"",modeAfterYank:"",nextLinkRegex:/(\b(next)\b)|下页|下一页|后页|下頁|下一頁|後頁|>>|»/i,digitForRepeat:!0,omnibarMaxResults:10,omnibarHistoryCacheSize:100,omnibarPosition:"middle",omnibarSuggestion:!0,omnibarSuggestionTimeout:200,omnibarTabsQuery:{},pageUrlRegex:[],prevLinkRegex:/(\b(prev|previous)\b)|上页|上一页|前页|上頁|上一頁|前頁|<<|«/i,richHintsForKeystroke:1e3,scrollStepSize:70,showModeStatus:!1,showProxyInStatusBar:!1,smartPageBoundary:!1,smoothScroll:!0,startToShowEmoji:2,stealFocusOnLoad:!0,tabsThreshold:100,verticalTabs:!0,textAnchorPat:/(^[\n\r\s]*\S{3,}|\b\S{4,})/g,ignoredFrameHosts:["https://tpc.googlesyndication.com"],scrollFriction:0,aceKeybindings:"vim",caretViewport:null,mouseSelectToQuery:[],useNeovim:!1,useLocalMarkdownAPI:!0}},t={},n=new Promise((function(e,t){window===top?e(window.location.href):_("getTopURL",null,(function(t){e(t.url)}))}));return e.on=function(e,n){t[e]=n},e.updateHistory=function(e,t){var n=e+"History";_("getSettings",{key:n},(function(e){var r=e.settings[n]||[],o={};"Array"===t.constructor.name?(o[n]=t,_("updateSettings",{settings:o})):t.trim().length&&"."!==t&&((r=r.filter((function(e){return e.trim().length&&e!==t&&"."!==e}))).unshift(t),r.length>50&&r.pop(),o[n]=r,_("updateSettings",{settings:o}))}))},chrome.runtime.onMessage.addListener((function(e,n,r){t[e.subject]&&t[e.subject](e,n,r)})),e.getTopURL=function(e){n.then((function(t){e(t)}))},e.postTopMessage=function(e){n.then((function(t){window===top&&(t=window.location.origin),"null"!==t&&"file://"!==new URL(t).origin||(t="*"),top.postMessage({surfingkeys_uihost_data:e},t)}))},e.getCaseSensitive=function(t){return e.conf.caseSensitive||e.conf.smartCase&&/[A-Z]/.test(t)},e}();function S(){if(-1!==window.navigator.userAgent.indexOf("Chrome"))return"Chrome";if(0===window.navigator.vendor.indexOf("Apple Computer, Inc.")){return/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?"Safari-iOS":"Safari"}return-1!==window.navigator.userAgent.indexOf("Firefox")?"Firefox":"Chrome"}function x(){return 0===document.location.href.indexOf(chrome.extension.getURL("/"))}function E(e){var t=new Date;return t.setTime(e),t.toLocaleString()}function C(e,t,n){const r=[];let o;const i=document.createNodeIterator(e,t,null);for(;o=i.nextNode();)n(o)&&r.push(o),o.shadowRoot&&r.push(...C(o.shadowRoot,t,n));return r}function T(e){var t="a, button, select, input, textarea, summary, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button, *[role=button], *[role=link], *[role=menuitem], *[role=option], *[role=switch], *[role=tab], *[role=checkbox], *[role=combobox], *[role=menuitemcheckbox], *[role=menuitemradio]";return k.conf.clickableSelector.length&&(t+=", "+k.conf.clickableSelector),e.matches(t)||"pointer"===getComputedStyle(e).cursor||"url("===getComputedStyle(e).cursor.substr(0,4)||null!==e.closest("a, *[onclick], *[contenteditable=true], *.jfk-button, *.goog-flat-menu-button")}function O(e,t){w("showBanner",[e,t])}function A(e){w("showPopup",[e])}function L(e,t,n){t.forEach((function(t){var r=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,button:n?1:0});e.dispatchEvent(r)}))}function R(e){for(var t=e?e.target:document.activeElement;t&&t.shadowRoot;){if(!t.shadowRoot.activeElement){if(t.shadowRoot.querySelector("input, textarea, select")){t=t.shadowRoot.querySelector("input, textarea, select");break}break}t=t.shadowRoot.activeElement}return t===window&&(t=document.body),t}function I(){var e=R(),t=e.value;t.match(/^"|"$/)?e.value=t.replace(/^"?(.*?)"?$/,"$1"):e.value='"'+t+'"'}function N(e,t){chrome.storage.local.get(["logLevels"],(n=>{const r=n&&n.logLevels||["error"];-1!==["log","warn","error"].indexOf(e)&&-1!==r.indexOf(e)&&console[e](t)}))}function M(e){return e&&!e.disabled&&("textarea"===e.localName||"select"===e.localName||e.isContentEditable||e.matches&&e.matches(k.conf.editableSelector)||"input"===e.localName&&/^(?!button|checkbox|file|hidden|image|radio|reset|submit)/i.test(e.type))}function P(e,t){e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():D(e,t)||e.scrollIntoView()}function U(e,t){var n=M(e)?1:4;return(t=t||e.getBoundingClientRect()).width>n&&t.height>n}function D(e,t){var n=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return(t||U(e,n))&&n.top<r&&n.bottom>0&&n.left<o&&n.right>0}function B(e){for(var t=Array.from(document.documentElement.getElementsByTagName("*")),n=[],r=0;r<t.length;r++){var o=t[r];if(o.shadowRoot)for(var i=o.shadowRoot.querySelectorAll("*"),a=0;a<i.length;a++)t.push(i[a]);var u=o.getBoundingClientRect();u.top<=window.innerHeight&&u.bottom>=0&&u.left<=window.innerWidth&&u.right>=0&&u.height>0&&"hidden"!==getComputedStyle(o).visibility&&e(o,n)}return n}function F(e){var t=document.getSelection(),n=[t.type,t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset],r=document.scrollingElement.scrollTop;e(t),document.scrollingElement.scrollTop=r,"None"===n[0]?t.empty():"Caret"===n[0]?t.setPosition(n[3],n[4]):"Range"===n[0]&&(t.setPosition(n[1],n[2]),t.extend(n[3],n[4]))}function H(e){if(0===e.length)return e;var t=[];return e.forEach((function(e,n){if(j(e))t.push(e);else{for(var r=0;r<t.length;r++){if(t[r].contains(e))return void("A"===t[r].tagName&&t[r].href||(t[r]=e));if(t[r].shadowRoot&&t[r].shadowRoot.contains(e))return;if(e.contains(t[r]))return void console.log("skip: ",e,t[r])}t.push(e)}})),t}function K(e){var t;return 0===e.childElementCount?3===(t=e.getClientRects()).length?t[1]:2===t.length?t[0]:e.getBoundingClientRect():1===e.childElementCount&&e.firstElementChild.textContent?(((t=e.firstElementChild.getBoundingClientRect()).width<4||t.height<4)&&(t=e.getBoundingClientRect()),t):e.getBoundingClientRect()}function j(e){return k.conf.clickableSelector&&e.matches(k.conf.clickableSelector)}function q(e){return H(e=e.filter((function(e){var t=K(e);if(e.disabled||e.readOnly||!U(e,t))return!1;if(e.matches("input, textarea, select, form")||"true"===e.contentEditable||j(e))return!0;var n=e.getRootNode().elementFromPoint(t.left+t.width/2,t.top+t.height/2);return!n||n.shadowRoot&&(0===n.childElementCount||n.shadowRoot.contains(e))||n.contains(e)||e.contains(n)})))}function z(e,t){return q(C(document.body,NodeFilter.SHOW_ELEMENT,(function(n){return n.offsetHeight&&n.offsetWidth&&"pointer"===getComputedStyle(n).cursor&&(n.matches(e)||t&&(t.test(n.textContent)||t.test(n.getAttribute("aria-label"))))})))}function W(e,t,n){var r=["script","style","noscript","surfingkeys_mark"],o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){if(!e.data.trim()||!e.parentNode.offsetParent||-1!==r.indexOf(e.parentNode.localName.toLowerCase())||!t.test(e.data))return t.lastIndex=0,NodeFilter.FILTER_REJECT;var n=e.parentNode.getBoundingClientRect();return n.width<4||n.height<4?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1),i=[];if(1===n)i.push(o.firstChild());else if(-1===n)i.push(o.lastChild());else{if(0===n)return o;if(2===n)for(;o.nextNode();)i.push(o.currentNode.parentNode);else for(;o.nextNode();)i.push(o.currentNode)}return i}function $(e,t,n){var r=document.getSelection();r.setBaseAndExtent(e,t,e,n?t+n:e.data.length);var o=r.getRangeAt(0).getClientRects()[0],i={left:-1,top:-1};return o&&o.height>0&&o.width>0&&(i.left=o.left,i.top=o.top,i.width=o.width,i.height=o.height),i}var V=document.createRange();function G(){let e=[];try{let t=arguments[1];for(;0===e.length&&t>=0;)V.setStart(arguments[0],t),arguments.length>3?V.setEnd(arguments[2],arguments[3]):arguments.length>2?V.setEnd(arguments[0],arguments[2]):V.setEnd(arguments[0],arguments[1]),e=V.getClientRects(),t--}catch(e){return[]}return e}var Y=null;function Q(e){var t=document.getSelection();if(t.focusNode&&t.focusNode.textContent){var n=function(e,t){var n=[0,e.length],r=/\W/;t<0?t=0:t>=e.length&&(t=e.length-1);var o=!0;if(r.test(e[t])){var i=0;for(o=!1;!o&&(t>i||t+i<e.length);)o=t-++i>=0&&!r.test(e[t-i])||t+i<e.length&&!r.test(e[t+i]);t=t-i>=0&&!r.test(e[t-i])?t-i:t+i}if(o){for(var a=t,u=t;a>=0&&!r.test(e[a]);)a--;for(;u<e.length&&!r.test(e[u]);)u++;n=[a+1,u-a-1]}return n}(t.focusNode.textContent,t.focusOffset),r=G(t.focusNode,n[0],n[0]+n[1])[0],o=t.focusNode.textContent.substr(n[0],n[1]);if(r&&o&&(!e||Y&&r.has(Y[0],Y[1],0,0)))return o.trim()}return null}function X(e){var t=k.conf.language||window.navigator.language;"en-US"===t?e((function(e){return e})):fetch(chrome.extension.getURL("pages/l10n.json")).then((function(e){return e.json()})).then((function(n){"object"==typeof n[t]?(n=n[t],e((function(e){return n[e]?n[e]:e}))):e((function(e){return e}))}))}function Z(e){var t=e.annotation.match(/#(\d+)(.*)/);return null!==t&&(e.feature_group=parseInt(t[1]),e.annotation=t[2]),e}function J(e,t,n,r){n=b.encodeKeystroke(n);var o=e.mappings.find(n);if(o){t=b.encodeKeystroke(t),e.mappings.remove(t);var i=Object.assign({},o.meta);r&&(i=Object.assign(i,Z({annotation:r}))),e.mappings.add(t,i),x()||w("addMapkey",[e.name,t,n])}return o}function ee(e,t){return e.indexOf("{0}")>0?e.format(t):e.indexOf("%s")>0?e.replace("%s",t):e+t}function te(e,t){var n;t=t||5,(n=(n="Array"===e.constructor.name?e:e instanceof NodeList?Array.from(e).map((function(e){return e.href})):e.trim().split("\n")).map((function(e){return e.trim()})).filter((function(e){return e.length>0}))).slice(0,t).forEach((function(e){_("openLink",{tab:{tabbed:!0},url:e})})),n.length>t&&_("queueURLs",{urls:n.slice(t)})}function ne(e){return e.filter((function(e){return e.offsetHeight&&e.offsetWidth&&!e.getAttribute("disabled")&&D(e)&&"hidden"!==getComputedStyle(e).visibility}))}function re(e,t){e.innerHTML=m.sanitize(t)}function oe(e,t,n){var r=document.createElement(e);if(t&&re(r,t),n)for(var o in n)r.setAttribute(o,n[o]);return r}document.addEventListener("mousedown",(e=>{Y=[e.clientX,e.clientY]})),DOMRect.prototype.has=function(e,t,n,r){return t>this.top-r&&t<this.bottom+r&&e>this.left-n&&e<this.right+n},String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var n=new RegExp("\\{"+t+"\\}","gi");e=e.replace(n,arguments[t])}return e},String.prototype.reverse=function(){return this.split("").reverse().join("")},RegExp.prototype.toJSON=function(){return{source:this.source,flags:this.flags}},Array.prototype.flatMap||(Array.prototype.flatMap=function(e){return Array.prototype.concat.apply([],this.map(e))});var ie=document.createElement("div");function ae(e){return ie.innerText=e,ie.innerHTML}function ue(e,t){var n=document.createElement("script");n.type="text/javascript","function"==typeof e?(re(n,"("+e.toString()+")(window);"),setTimeout((function(){t&&t(),n.remove()}),1)):(n.src=e,n.onload=function(){t&&t(),n.remove()}),document.lastElementChild.appendChild(n)}HTMLElement.prototype.one=function(e,t){this.addEventListener(e,(function n(){t.call(this),this.removeEventListener(e,n)}))},HTMLElement.prototype.show=function(){this.style.display=""},HTMLElement.prototype.hide=function(){this.style.display="none"},HTMLElement.prototype.removeAttributes=function(){for(;this.attributes.length>0;)this.removeAttribute(this.attributes[0].name)},HTMLElement.prototype.containsWithShadow=function(e){const t=[this];for(;t.length;){const n=t.shift();if(n.contains(e))return!0;if(t.push(...n.children),n.shadowRoot){if(n.shadowRoot.contains(e))return!0;t.push(...n.shadowRoot.children)}}return!1},NodeList.prototype.remove=function(){this.forEach((function(e){e.remove()}))},NodeList.prototype.show=function(){this.forEach((function(e){e.show()}))},NodeList.prototype.hide=function(){this.forEach((function(e){e.hide()}))};const se=oe("div","",{style:"position: fixed; box-shadow: 0px 0px 4px 2px #63b2ff; background: transparent; z-index: 2140000000"});function ce(e,t){var n=K(e);se.style.left=n.left+"px",se.style.top=n.top+"px",se.style.width=n.width+"px",se.style.height=n.height+"px",document.body.appendChild(se),setTimeout((()=>{se.remove(),t()}),100)}function le(e,t){var n=null;const r=k.getCaseSensitive(e)?"g":"gi";if(e=e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),t)n=new RegExp(e.replace(/\s+/,"|"),r);else{var o=e.split(/\s+/).map((function(e){return`(?=.*${e})`})).join("");n=new RegExp(`^${o}.*$`,r)}return n}function fe(e){try{return decodeURI(e)}catch(t){return e}}function de(e,t){if(t&&t.length){var n=le(t,!1);e=e.filter((function(e){return n.test(e.title)||n.test(fe(e.url))}))}return e}function pe(e,t){const n={candidates:0};if(t.length>0)for(const r of e){const e=r.label;if(t===e){n.matched=r.link;break}0===e.indexOf(t)?(r.style.opacity=1,re(r,`<span style="opacity: 0.2;">${t}</span>`+e.substr(t.length)),n.candidates++):r.style.opacity=0}else if(1===e.length)n.matched=e[0].link;else{for(const t of e)t.style.opacity=1,re(t,t.label);n.candidates=e.length}return n}function he(e,t){const n=S();"Chrome"===n?t.src=`chrome://favicon/${e.url}`:n.startsWith("Safari")?t.src=new URL(e.url).origin+"/favicon.ico":t.src=e.favIconUrl}var me=[];const ge=function(e,t){this.name=e,this.statusLine=t,this.eventListeners={},this.addEventListener=function(e,t){return this.eventListeners[e]=t,ke.hasOwnProperty(e)||(ke[e]=function(t){be(e,t)},window.addEventListener(e,ke[e],!0)),this},this.enter=function(e,t){var n,r,o=me.indexOf(this);if(this.priority||(this.priority=e||me.length),-1===o)me.unshift(this);else if(o>0)if(t)me=me.slice(o);else{var i=me.map((function(e){return e.name})).join(",");n="Mode {0} pushed into mode stack again.".format(this.name),r="Modes in stack: {0}".format(i),n=encodeURIComponent(n),r="%23%23+Error+details%0A%0A{0}%0A%0ASurfingKeys%3A+{1}%0A%0AChrome%3A+{2}%0A%0AURL%3A+{3}%0A%0A%23%23+Context%0A%0A%2A%2APlease+replace+this+with+a+description+of+how+you+were+using+SurfingKeys.%2A%2A".format(encodeURIComponent(r),chrome.runtime.getManifest().version,encodeURIComponent(navigator.userAgent),encodeURIComponent(window.location.href)),A('<h2>Uh-oh! The SurfingKeys extension encountered a bug.</h2> <p>Please click <a href="https://github.com/brookhong/Surfingkeys/issues/new?title={0}&body={1}" target=_blank>here</a> to start filing a new issue, append a description of how you were using SurfingKeys before this message appeared, then submit it.  Thanks for your help!</p>'.format(n,r))}return me.sort((function(e,t){return e.priority<t.priority?1:t.priority<e.priority?-1:0})),this.onEnter&&this.onEnter(),ge.showStatus(),o},this.exit=function(e){var t=me.indexOf(this);if(-1!==t)if(this.priority=0,e)me.splice(t,1);else{t++;me.slice(0,t);me=me.slice(t)}ge.showStatus(),this.onExit&&this.onExit(t)}};ge.getCurrent=()=>me[0],ge.specialKeys={"<Alt-s>":["<Alt-s>"],"<Esc>":["<Esc>"]},ge.isSpecialKeyOf=function(e,t){return-1!==ge.specialKeys[e].indexOf(b.decodeKeystroke(t))};var ve=[];function ye(e,t){t.sk_stopPropagation&&(t.stopImmediatePropagation(),t.preventDefault())}function be(e,t,n){for(var r=0;r<me.length&&!t.sk_stopPropagation;r++){var o=me[r];if(!t.sk_suppressed&&o.eventListeners.hasOwnProperty(e))(0,o.eventListeners[e])(t),ye(0,t);if("Disabled"===o.name)break;n&&n(o)}}ge.suppressKeyUp=function(e){-1===ve.indexOf(e)&&ve.push(e)};let we=0;var _e=0,ke={sentinel:e=>{we++},keydown:function(e){if(e.sk_keyName=b.getKeyChar(e),0===me.length&&window!==top)return w("iframeBoot"),void document.addEventListener("surfingkeys:userSettingsLoaded",(()=>{be("keydown",e)}),{once:!0});be("keydown",e)},keyup:function(e){be("keyup",e,(function(t){var n=ve.indexOf(e.keyCode);-1!==n&&(e.stopImmediatePropagation(),ve.splice(n,1))}))},scroll:function(e){_e>0&&(e.stopImmediatePropagation(),e.preventDefault(),_e--)}};function Se(e){for(var t in me=[],ke)window.addEventListener(t,ke[t],!0);e&&e()}ge.hasScroll=function(e,t,n){var r="y"===t?["scrollTop","height"]:["scrollLeft","width"],o=e[r[0]];if(o<n){var i=e[r[0]];e[r[0]]=e.getBoundingClientRect()[r[1]],(o=e[r[0]])!==i&&_e++,e[r[0]]=i}return o>=n},ge.getScrollableElements=function(){var e=C(document.body,NodeFilter.SHOW_ELEMENT,(function(e){return ge.hasScroll(e,"y",16)&&e.scrollHeight>200||ge.hasScroll(e,"x",16)&&e.scrollWidth>200}));return e.sort((function(e,t){return t.contains(e)?1:e.contains(t)?-1:t.scrollHeight*t.scrollWidth-e.scrollHeight*e.scrollWidth})),document.scrollingElement&&(document.scrollingElement.scrollHeight>window.innerHeight||document.scrollingElement.scrollWidth>window.innerWidth)&&e.unshift(document.scrollingElement),e},ge.init=e=>{"about:blank"!==window.location.href||!window.frameElement||document.body&&0!==document.body.childElementCount?Se(e):window.frameElement.addEventListener("load",(function(t){try{Se(e)}catch(e){console.log("Error on blank iframe loaded: "+e)}}))},ge.showStatus=function(){if(document.hasFocus()&&me.length){var e=me[0],t=e.statusLine||(k.conf.showModeStatus?e.name:"");if(""!==t&&window!==top&&!x()){var n=window.location.pathname.split("/");n.length&&(t+=" - frame: "+n[n.length-1])}w("showStatus",[[t]])}},ge.finish=function(e){var t=!1;return(e.map_node!==e.mappings||null!=e.pendingMap||e.repeats)&&(e.map_node=e.mappings,e.pendingMap=null,e.isTrustedEvent&&w("hideKeystroke"),e.repeats&&(e.repeats=""),t=!0),t},ge.handleMapKey=function(e,t){var n=e.sk_keyName;this.isTrustedEvent=this.__trust_all_events__||e.isTrusted;var r=ge.isSpecialKeyOf("<Esc>",n);r&&(n=b.encodeKeystroke("<Esc>"));var o=!1;if(r&&ge.finish(this))e.sk_stopPropagation=!0,e.sk_suppressed=!0,o=!0;else if(this.pendingMap){this.setLastKeys&&this.setLastKeys(this.map_node.meta.word+n);var i=this.pendingMap.bind(this);e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n),i(n),o=ge.finish(this)}else if(void 0!==this.repeats&&this.map_node===this.mappings&&k.conf.digitForRepeat&&(n>="1"||""!==this.repeats&&n>="0")&&n<="9"&&this.map_node.getWords().length>0)this.repeats+=n,this.isTrustedEvent&&w("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else{var a=this.map_node;if(this.map_node=this.map_node.find(n),this.map_node)if(this.map_node.meta){var u=this.map_node.meta.code;if(u.length)this.pendingMap=u,this.isTrustedEvent&&w("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else{for(this.setLastKeys&&this.setLastKeys(this.map_node.meta.word),_.repeats=parseInt(this.repeats)||1,e.sk_stopPropagation=!this.map_node.meta.stopPropagation||this.map_node.meta.stopPropagation(n);_.repeats>0;)u(),_.repeats--;o=ge.finish(this)}}else this.isTrustedEvent&&w("showKeystroke",[n,this]),e.sk_stopPropagation=!0;else t&&t(a),e.sk_suppressed=a!==this.mappings,o=ge.finish(this)}return o},ge.checkEventListener=e=>{const t=we;window.dispatchEvent(new CustomEvent("sentinel")),t===we&&(Se(),e())};const xe=ge;const Ee=function(){var e={},t=document.createElement("textarea");function n(e){F((function(n){document.documentElement.appendChild(t),e(n),t.remove()}))}return t.contentEditable=!0,t.enableAutoFocus=!0,t.id="sk_clipboard",e.read=function(e){if(S().startsWith("Safari"))_("readClipboard",null,(function(t){e(t)}));else if("Firefox"!==S()||"object"!=typeof navigator.clipboard||"function"!=typeof navigator.clipboard.readText){n((function(){t.value="",re(t,""),t.focus(),document.execCommand("paste")}));var r=t.value;""===r&&(r=t.innerHTML.replace(/<br>/gi,"\n")),e({data:r})}else navigator.clipboard.readText().then((t=>{setTimeout((function(){e({data:t})}),0)}))},e.write=function(e){const r=()=>{O("Copied: "+e)};"Chrome"===S()?ue((function(){window.oncopy=document.oncopy,document.oncopy=null}),(function(){n((function(){t.value=e,t.select(),document.execCommand("copy"),t.value=""})),ue((function(){document.oncopy=window.oncopy,delete window.oncopy})),r()})):(_("writeClipboard",{text:e}),r())},e};function Ce(){arguments.length>0&&(this.stem=arguments[0]),arguments.length>1&&(this.meta=arguments[1])}Ce.prototype={find:function(e){for(var t=this,n=e.length,r=0;r<n&&t;r++)t=t[e[r]];return t},add:function(e,t){for(var n=this,r=e.length,o=0;o<r;o++){var i=e[o];if(n.hasOwnProperty(i))n=n[i];else{var a=new Ce(i);n[i]=a,n=a}}t.word=e,n.meta=t},remove:function(e){for(var t=this,n=e.length,r=[],o=0;o<n&&t;o++)r.push(t),t=t[e[o]];if(t){var i=r[o=r.length-1];delete i[t.stem];for(var a=i;a!==this&&1===Object.keys(a).length;)delete(i=r[--o])[a.stem],a=i}return t},getWords:function(e,t){var n=[];e=(e||"")+(t?"":this.stem||"");for(var r in this.hasOwnProperty("meta")&&n.push(e),this)1===r.length&&(n=n.concat(this[r].getWords(e)));return n},getMetas:function(e){var t=[];for(var n in this.hasOwnProperty("meta")&&e(this.meta)&&t.push(this.meta),this)1===n.length&&(t=t.concat(this[n].getMetas(e)));return t},getPrefixWord:function(){if(0===Object.keys(this).length)return"";for(var e="",t=this.stem,n=this;""===e;)for(var r=Object.keys(n),o=0;o<r.length;o++){if("meta"===r[o]){e=n.meta.word;break}if("stem"!==r[o]){t+=r[o],n=n[r[o]];break}}return e.substr(0,e.length-t.length+1)}};const Te=Ce;const Oe=function(){var e=new xe("Insert");function t(){var e=R();if(void 0!==e.setSelectionRange)try{e.setSelectionRange(e.value.length,e.value.length)}catch(e){if(!(e instanceof DOMException&&"InvalidStateError"===e.name))throw e}else if(M(e)&&e.childNodes.length>0){var t=e.childNodes[e.childNodes.length-1];if(t.nodeType===Node.TEXT_NODE)document.getSelection().setPosition(t,t.data.length);else{t.querySelector(".CodeMirror-line")?function(e){let t=document.createRange();t.selectNodeContents(e),t.collapse(!1);let n=window.getSelection();n.removeAllRanges(),n.addRange(t)}(e):document.getSelection().setPosition(t,t.childNodes.length)}Visual.showCursor(),Visual.hideCursor()}}e.mappings=new Te,e.map_node=e.mappings,e.mappings.add(b.encodeKeystroke("<Ctrl-e>"),{annotation:"Move the cursor to the end of the line",feature_group:15,code:t}),e.mappings.add(b.encodeKeystroke("<Ctrl-f>"),{annotation:"Move the cursor to the beginning of the line",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange)e.setSelectionRange(0,0);else{var t=document.getSelection();t.setPosition(t.focusNode,0),Visual.showCursor(),Visual.hideCursor()}}}),e.mappings.add(b.encodeKeystroke("<Ctrl-u>"),{annotation:"Delete all entered characters before the cursor",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange)e.value=e.value.substr(e.selectionStart),e.setSelectionRange(0,0);else{var t=document.getSelection();t.focusNode.data=t.focusNode.data.substr(t.focusOffset)}}}),e.mappings.add(b.encodeKeystroke("<Alt-b>"),{annotation:"Move the cursor Backward 1 word",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange){var t=s(e.value,-1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","backward","word")}}),e.mappings.add(b.encodeKeystroke("<Alt-f>"),{annotation:"Move the cursor Forward 1 word",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange){var t=s(e.value,1,e.selectionStart);e.setSelectionRange(t,t)}else document.getSelection().modify("move","forward","word")}}),e.mappings.add(b.encodeKeystroke("<Alt-w>"),{annotation:"Delete a word backwards",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange){var t=c(e.value,-1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),r=n.focusOffset;document.getSelection().modify("move","backward","word");var o=n.focusNode.data,i=n.focusOffset;n.focusNode.data=o.substr(0,i)+o.substr(r),n.setPosition(n.focusNode,i)}}}),e.mappings.add(b.encodeKeystroke("<Alt-d>"),{annotation:"Delete a word forwards",feature_group:15,code:function(){var e=R();if(void 0!==e.setSelectionRange){var t=c(e.value,1,e.selectionStart);e.value=t[0],e.setSelectionRange(t[1],t[1])}else{var n=document.getSelection(),r=n.focusOffset;document.getSelection().modify("move","forward","word");var o=n.focusNode.data,i=n.focusOffset;n.focusNode.data=o.substr(0,r)+o.substr(i),n.setPosition(n.focusNode,r)}}}),e.mappings.add(b.encodeKeystroke("<Esc>"),{annotation:"Exit insert mode",feature_group:15,stopPropagation:function(e){return e.charCodeAt(0)<256},code:function(){R().blur(),e.exit()}});var n,r=oe("div","",{id:"sk_emoji",style:"display: block; opacity: 1;"}),o=-1;function i(){var e=R(),t="",i=!0;if(void 0!==e.selectionStart&&void 0!==e.value)t=e.value.substr(o,e.selectionStart-o);else{i=!1;var a=document.getSelection();t=a.focusNode.data.substr(o,a.focusOffset-o)}if(t.length<k.conf.startToShowEmoji||" "===t[0])r.remove();else{var u=n.filter((function(e){return-1!==e.indexOf(t)})).slice(0,5).map((function(e){var t=e.split("\t"),n=String.fromCodePoint.apply(null,t[0].split(","));return"<div><span>{0}</span>{1}</div>".format(n,t[1])})).join("");if(""===u)r.remove();else{var s;re(r,u),document.body.append(r),r.style.display="",r.querySelector("#sk_emoji>div").classList.add("selected"),i?s=function(e){var t=getComputedStyle(e),n=e.getBoundingClientRect(),r=document.createElement("div"),o=document.createElement("span");r.style.font=t.font,r.style.position="fixed",re(r,e.value),r.style.left=e.clientLeft+n.left+"px",r.style.top=e.clientTop+n.top+"px",r.style.color="red",r.style.overflow="scroll",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.style.padding=t.padding,r.style.width=t.width,r.style.height=t.height,o.innerText="I";var i=e.selectionStart;if(i===e.value.length)r.appendChild(o);else{var a=r.childNodes[0].splitText(i);r.insertBefore(o,a)}return document.body.appendChild(r),P(o),n=o.getBoundingClientRect(),r.remove(),n}(e):(Visual.showCursor(),s=Visual.getCursorPixelPos(),Visual.hideCursor());var c=s.top+s.height+4;window.innerHeight-c<r.offsetHeight&&(c=s.top-r.offsetHeight),r.style.position="fixed",r.style.top=c+"px",r.style.left=s.left+"px"}}}document.addEventListener("surfingkeys:userSettingsLoaded",(function(t){k.conf.enableEmojiInsertion&&e.mappings.add(":",{annotation:"Input emoji",feature_group:15,stopPropagation:function(){return!1},code:function(){var e=R();o=void 0!==e.selectionStart?e.selectionStart+1:document.getSelection().focusOffset+1,fetch(chrome.extension.getURL("pages/emoji.tsv")).then((e=>Promise.all([e.text()]))).then((e=>{n=e[0].split("\n"),i()}))}})}));var a,u=!1;function s(e,t,n){var r=/\W/;for(n=t>0?n:n+t;;){if(n<0){n=0;break}if(n>=e.length){n=e.length;break}if(r.test(e[n]))break;n+=t}return n}function c(e,t,n){var r=s(e,t,n);return[r>n?e.substr(0,n)+e.substr(r):r<n?e.substr(0,r)+e.substr(n):e.substr(0,r)+e.substr(r+1),t>0?n:r]}e.addEventListener("keydown",(function(t){if(t.key&&t.key.charCodeAt(0)>127)t.sk_suppressed=!0;else{var n,i,a,s,c=R(t);if(r.offsetHeight>0){if(xe.isSpecialKeyOf("<Esc>",t.sk_keyName))r.remove(),o=-1;else if(t.keyCode===b.keyCodes.tab||t.keyCode===b.keyCodes.upArrow||t.keyCode===b.keyCodes.downArrow)n=t.shiftKey||t.keyCode===b.keyCodes.upArrow,i=r.querySelector("#sk_emoji>div.selected"),a=Array.from(r.querySelectorAll("#sk_emoji>div")),s=(a.indexOf(i)+(n?-1:1))%a.length,i.classList.remove("selected"),a[s].classList.add("selected"),u=!0,t.sk_stopPropagation=!0;else if(t.keyCode===b.keyCodes.enter){var l=r.querySelector("#sk_emoji>div.selected>span").innerHTML;if(void 0!==c.setSelectionRange){var f=c.value;c.value=f.substr(0,o-1)+l+f.substr(c.selectionStart),c.setSelectionRange(o,o)}else{var d=document.getSelection();f=d.focusNode.data;d.focusNode.data=f.substr(0,o-1)+l+f.substr(d.focusOffset),d.setPosition(d.focusNode,o)}r.remove(),o=-1,t.sk_stopPropagation=!0}}else M(c)?t.sk_keyName.length&&xe.handleMapKey.call(e,t,(function(e){var t=e.getPrefixWord();if(t){var n=R(),r=n.value,o=n.selectionStart;if(void 0!==r&&void 0!==o)n.value=r.substr(0,n.selectionStart)+t+r.substr(n.selectionEnd),o+=t.length,n.setSelectionRange(o,o);else{var i=(n=document.getSelection()).getRangeAt(0),a=document.createTextNode(t);"Caret"===n.type?void 0===(r=n.focusNode.data)?(i.insertNode(a),n.setPosition(a,a.length)):(o=n.focusOffset,n.focusNode.data=r.substr(0,o)+t+r.substr(o),n.setPosition(n.focusNode,o+t.length)):(i.deleteContents(),i.insertNode(a),n.setPosition(a,a.length))}}})):e.exit();t.sk_suppressed=!0}})),e.addEventListener("keyup",(function(e){var t=R(e);if(!u&&-1!==o){var n,a;if(void 0!==t.selectionStart&&void 0!==t.value)n=t.value,a=t.selectionStart;else{var s=document.getSelection();n=s.focusNode.data,a=s.focusOffset}a<o||":"!==n[o-1]?r.remove():i()}u=!1})),e.addEventListener("focus",(function(t){var n=R(t);t.target==window||M(n)?t.sk_suppressed=!0:e.exit()}));var l=e.enter;return e.enter=function(n,r){n===document.body&&(k.conf.showModeStatus=!1);var o=-1===l.call(e,0,!0);a!==n&&(a=n,o=!0),o&&!r&&k.conf.cursorAtEndOfInput&&"SELECT"!==n.nodeName&&t()},e};const Ae=function(e){var t=new xe("Normal");t.mappings=new Te,t.map_node=t.mappings;var n=!1;let r;t.passFocus=function(e){n=e},t.startLurk=()=>{let e="lurking";return r?xe.getCurrent()!==r&&(e="enabled"):(t.exit(),r=function(e){const t=new xe("Lurk");function n(){e.enter(),window===top&&_("setSurfingkeysIcon",{status:"enabled"})}return t.mappings=new Te,t.map_node=t.mappings,t.mappings.add(b.encodeKeystroke("<Alt-i>"),{annotation:"Enter normal mode",feature_group:16,code:n}),t.mappings.add("p",{annotation:"Enter ephemeral normal mode to temporarily enable SurfingKeys",feature_group:16,code:function(){n(),setTimeout((()=>{e.revertToLurk()}),1e3)}}),t.addEventListener("keydown",(function(e){!M(R(e))&&e.sk_keyName.length&&(xe.handleMapKey.call(t,e),e.sk_stopPropagation&&xe.suppressKeyUp(e.keyCode))})),t}(t),o.forEach((e=>{J(r,e[0],e[1]),r.mappings.remove(b.encodeKeystroke(e[1]))})),o=void 0,r.enter(0,!0)),e},t.revertToLurk=()=>{t.exit(!0),window===top&&_("setSurfingkeysIcon",{status:"lurking"})},t.getLurkMode=()=>r;let o=[];t.addLurkMap=(e,t)=>{o.push([e,t])};var i=!1;t.addEventListener("keydown",(function(n){var o=R(n);if(M(o)&&n.isTrusted)if(xe.isSpecialKeyOf("<Esc>",n.sk_keyName))o.blur(),e.exit();else if(k.conf.editableBodyCare&&o===document.body&&"i"!==n.key)t.statusLine="Press i to enter Insert mode",k.conf.showModeStatus=!0,n.sk_keyName.length&&xe.handleMapKey.call(t,n);else{n.sk_stopPropagation=k.conf.editableBodyCare&&o===document.body&&"i"===n.key,n.sk_stopPropagation&&(t.passFocus(!0),o.focus());var a=!1;if(!D(o)){for(var u=o;u!==document.documentElement&&!u.newlyCreated;)u=u.parentElement;a=u!==document.documentElement&&u.newlyCreated}a?(o.blur(),delete u.newlyCreated,xe.handleMapKey.call(t,n)):e.enter(o,!0)}else if(xe.isSpecialKeyOf("<Alt-s>",n.sk_keyName))t.toggleBlocklist(),xe.finish(t),n.sk_stopPropagation=!0;else if(n.sk_keyName.length){var s=xe.handleMapKey.call(t,n,(()=>{xe.isSpecialKeyOf("<Esc>",n.sk_keyName)&&r&&t.revertToLurk()}));i&&s&&(i=!1,t.exit())}n.sk_stopPropagation&&xe.suppressKeyUp(n.keyCode)})),t.addEventListener("blur",(function(e){c=0})),t.addEventListener("focus",(function(e){if(xe.showStatus(),k.conf.stealFocusOnLoad&&!x()){var t=R(e);M(t)&&(n||t.enableAutoFocus?k.conf.enableAutoFocus||(n=!1):(t.blur(),e.sk_stopPropagation=!0))}})),t.addEventListener("keyup",(function(e){setTimeout((function(){c=0}),0)})),t.addEventListener("mousedown",(function(n){k.conf.enableAutoFocus?t.passFocus(!0):t.passFocus(n.isTrusted);var r=R(n);M(r)?e.enter(r,!0):e.exit()})),t.toggleBlocklist=function(){0!==document.location.href.indexOf(chrome.extension.getURL("/"))?_("toggleBlocklist",{blocklistPattern:k.conf.blocklistPattern?k.conf.blocklistPattern.toJSON():""},(function(e){"disabled"===e.state?e.blocklist.hasOwnProperty(".*")?O("Surfingkeys is globally disabled, please enable it globally from popup menu.",3e3):O("Surfingkeys turned OFF for "+e.url,3e3):O("Surfingkeys turned ON for "+e.url,3e3)})):O("You could not toggle Surfingkeys on its own pages.",3e3)};const a=function(){var e,t,n=new xe("PassThrough");return n.addEventListener("keydown",(function(r){r.sk_suppressed=!0,xe.isSpecialKeyOf("<Esc>",r.sk_keyName)?(n.exit(),r.sk_stopPropagation=!0):t>0&&(e&&(clearTimeout(e),e=void 0),e=setTimeout((function(){n.exit()}),t))})).addEventListener("mousedown",(function(e){e.sk_suppressed=!0})),n.addEventListener("focus",(function(e){e.sk_suppressed=!0})),n.onEnter=function(){t>0?(e=setTimeout((function(){n.exit()}),t),n.statusLine=`ephemeral(${t}ms) pass through`):n.statusLine="pass through"},n.setTimeout=function(e){t=e},n}();t.passThrough=function(e){return a.setTimeout(e),a.enter(),a},t.once=()=>{i=!0,t.enter()},t.mappings.add(b.encodeKeystroke("<Alt-i>"),{annotation:"Enter PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough()}}),t.mappings.add("p",{annotation:"Enter ephemeral PassThrough mode to temporarily suppress SurfingKeys",feature_group:0,code:function(){t.passThrough(1e3)}}),t.repeats="";var u,s,c=0,l=0,f=[];function d(){u&&0!==u.length||((u=xe.getScrollableElements()).forEach((function(e){e.removeEventListener("mousedown",p),e.addEventListener("mousedown",p),e.dataset.hint_scrollable=!0})),l=0)}function p(e){if(e.currentTarget.contains(e.target)){for(var t=u.lastIndexOf(e.target),n=u.length-1;n>=0&&-1===t;n--)u[n]!==document.body&&u[n].contains(e.target)&&(t=n);-1!==t&&(l=t)}}function h(){_("localData",{data:{lastKeys:s}})}t.highlightElement=function(e){var t;w("highlightElement",{duration:200,rect:{top:(t=document.scrollingElement===e?{top:0,left:0,width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()).top,left:t.left,width:t.width,height:t.height}})},t.scroll=function(e){d();var n=document.scrollingElement;if(u.length>0&&(n=u[l])!==document.scrollingElement&&n!==document.body){var r=n.getBoundingClientRect();0!==r.width&&0!==r.height&&D(n)&&(xe.hasScroll(n,"x",16)||xe.hasScroll(n,"y",16))||(t.refreshScrollableElements(),n=u[l])}if(n||document.scrollingElement||!document.body||(document.body.style.overflow="visible",n=document.scrollingElement),n){var o;n.skScrollBy||((o=n).skScrollBy=function(e,t){if(k.conf.smartPageBoundary&&(this===document.scrollingElement||1===u.length&&this===u[0])){if(0===this.scrollTop&&t<0)return w("topBoundaryHit");if(this.scrollHeight-this.scrollTop<=this.clientHeight+1&&t>0)return w("bottomBoundaryHit")}if(_.repeats>1&&(e=_.repeats*e,t=_.repeats*t,_.repeats=0),k.conf.smoothScroll){var n=Math.max(100,20*Math.log(Math.abs(e||t)));o.smoothScrollBy(e,t,n)}else w("scrollStarted"),o.scrollBy({behavior:"instant",left:e,top:t}),w("scrollDone")},o.safeScroll_=(e,t,n)=>{const r=o===document.scrollingElement?window.innerHeight:o.clientHeight,i=o===document.scrollingElement?window.innerWidth:o.clientWidth,a="scrollTop"===e?[0,o.scrollHeight-r]:[0,o.scrollWidth-i],u=n?a[1]:a[0];return t>=a[0]&&t<=a[1]?(o[e]=t,!1):(o[e]=u,!0)},o.smoothScrollBy=function(e,t,n){if(!c){var[r,i]=t?["scrollTop",t]:["scrollLeft",e],a=n,u=0,s=o[r],l=!1;function f(e){if(0===u)return u=e,w("scrollStarted"),window.requestAnimationFrame(f);var t=o[r],n=(e-u)*i/a;let d=!1;Math.abs(t+n-s)>=Math.abs(i)?(l=!0,c>k.conf.scrollFriction?(d=o.safeScroll_(r,t+n,i>0),s=o[r]):c>0?c++:d=o.safeScroll_(r,s+i,i>0)):d=o.safeScroll_(r,t+n,i>0),u=e,c||!d&&!l?window.requestAnimationFrame(f):(o.style.scrollBehavior="",w("scrollDone"))}c=1,o.style.scrollBehavior="auto",window.requestAnimationFrame(f)}},f.push(o));var i=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];switch(n.lastScrollTop=n.scrollTop,n.lastScrollLeft=n.scrollLeft,e){case"down":n.skScrollBy(0,k.conf.scrollStepSize);break;case"up":n.skScrollBy(0,-k.conf.scrollStepSize);break;case"pageDown":n.skScrollBy(0,Math.round(i[1]/2));break;case"fullPageDown":n.skScrollBy(0,i[1]);break;case"pageUp":n.skScrollBy(0,-Math.round(i[1]/2));break;case"fullPageUp":n.skScrollBy(0,-i[1]);break;case"top":n.skScrollBy(0,-n.scrollTop);break;case"bottom":n.skScrollBy(n.scrollLeft,n.scrollHeight-n.scrollTop);break;case"left":n.skScrollBy(-Math.round(k.conf.scrollStepSize/2),0);break;case"right":n.skScrollBy(Math.round(k.conf.scrollStepSize/2),0);break;case"leftmost":n.skScrollBy(-n.scrollLeft-10,0);break;case"rightmost":n.skScrollBy(n.scrollWidth-n.scrollLeft-i[0]+20,0);break;case"byRatio":var a=parseInt(_.repeats*n.scrollHeight/100)-i[1]/2-n.scrollTop;_.repeats=0,n.skScrollBy(0,a)}w("turnOffDOMObserver")}},t.refreshScrollableElements=function(){return u=null,d(),u},t.addScrollableElement=function(e){u&&(e.contains(u[l])||-1!==u.indexOf(e))||(d(),u.push(e),l=u.length-1)},t.rotateFrame=function(){_("nextFrame",{frameId:window.frameId})},t.feedkeys=function(e){setTimeout((function(){for(var n=new Event("keydown"),r=0;r<e.length;r++)n.sk_keyName=e[r],xe.handleMapKey.call(t,n)}),1)},t.setLastKeys=function(e){!this.map_node.meta.repeatIgnore&&e.length>1&&(s=[e],h())},t.appendKeysForRepeat=function(e,t){s&&s.length>0&&(s.push("{0}\t{1}".format(e,t)),h())},t.addVIMark=function(e,t){t=t||window.location.href;var n={};n[e]={url:t,scrollLeft:document.scrollingElement.scrollLeft,scrollTop:document.scrollingElement.scrollTop},_("addVIMark",{mark:n}),O("Mark '{0}' added for: {1}.".format(e,t))},t.jumpVIMark=function(e){if("'"===e){let e=document.scrollingElement;if(d(),u.length>0&&(e=u[l],void 0!==e.lastScrollTop&&void 0!==e.lastScrollLeft)){const t=e.scrollTop,n=e.scrollLeft;e.scrollTop=e.lastScrollTop,e.scrollLeft=e.lastScrollLeft,e.lastScrollTop=t,e.lastScrollLeft=n}}else _("jumpVIMark",{mark:e})},t.moveTab=function(e){_("moveTab",{position:e})},t.captureElement=function(e){_("getCaptureSize",null,(function(t){var n=t.width/window.innerWidth;e.scrollTop=0,e.scrollLeft=0;var r=-1,o=-1,i=e.style.overflowY;e.style.overflowY="hidden";var a=e.style.overflowX;e.style.overflowX="hidden";var u=e.style.borderStyle;e.style.borderStyle="none",w("toggleStatus",[!1]);var s,c,l,f,d,p,h=0,m=0,g=e.scrollHeight,v=e.scrollWidth;if(e===document.scrollingElement)d=window.innerWidth,p=window.innerHeight,s=0,c=0;else{var y=e.getBoundingClientRect(),b=[Math.max(y.left,0),Math.max(y.top,0),Math.min(y.right,window.innerWidth),Math.min(y.bottom,window.innerHeight)];d=b[2]-b[0],p=b[3]-b[1],s=b[0]*n,c=b[1]*n}l=d*n,f=p*n;var k=document.createElement("canvas");k.width=v*n,k.height=g*n;var S=k.getContext("2d"),x=(y=e.getBoundingClientRect(),document.createElement("img"));x.onload=function(){S.drawImage(x,s,c,l,f,h,m,l,f),r===e.scrollTop?o===e.scrollLeft?(w("toggleStatus",[!0]),A("<img src='{0}' />".format(k.toDataURL("image/png"))),e.style.overflowY=i,e.style.overflowX=a,e.style.borderStyle=u):(r=-1,e.scrollTop=0,m=0,o=e.scrollLeft,e.scrollLeft+2*d<v?(e.scrollLeft+=d,h+=d*n):(e.scrollLeft+=v%d,h=e.scrollLeft*n),setTimeout((function(){_("captureVisibleTab",null,(function(e){x.src=e.dataUrl}))}),1e3)):(r=e.scrollTop,e.scrollTop+2*p<g?(e.scrollTop+=p,m+=p*n):(e.scrollTop+=g%p,m=e.scrollTop*n),setTimeout((function(){_("captureVisibleTab",null,(function(e){x.src=e.dataUrl}))}),1e3))},setTimeout((function(){_("captureVisibleTab",null,(function(e){x.src=e.dataUrl}))}),500)}))},t.mappings.add("yG",{annotation:"Capture current full page",feature_group:7,code:function(){t.captureElement(document.scrollingElement)}}),t.mappings.add("yS",{annotation:"Capture scrolling element",feature_group:7,code:function(){var e=document.scrollingElement;d(),u.length>0&&(e=u[l]),t.captureElement(e)}}),t.mappings.add("cS",{annotation:"Reset scroll target",feature_group:2,code:function(){if(u=null,d(),u.length>0){var e=u[l];t.highlightElement(e)}}});const m=e=>{const n=t.scroll.bind(t,e);return n.isSKScrollInHints=!0,n};function g(e){-1===k.conf.mouseSelectToQuery.indexOf(window.origin)||T(e.target)||e.target.matches(".cm-matchhighlight")||setTimeout((()=>{w("querySelectedWord")}),1)}t.isScrollKeyInHints=e=>{const n=t.mappings[e];return n&&n.meta&&n.meta.code&&n.meta.code.isSKScrollInHints},t.mappings.add("e",{annotation:"Scroll half page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageUp")}),t.mappings.add("U",{annotation:"Scroll full page up",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageUp")}),t.mappings.add("d",{annotation:"Scroll half page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"pageDown")}),t.mappings.add("P",{annotation:"Scroll full page down",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"fullPageDown")}),t.mappings.add("gg",{annotation:"Scroll to the top of the page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"top")}),t.mappings.add("G",{annotation:"Scroll to the bottom of the page",feature_group:2,repeatIgnore:!0,code:m("bottom")}),t.mappings.add("j",{annotation:"Scroll down",feature_group:2,repeatIgnore:!0,code:m("down")}),t.mappings.add("k",{annotation:"Scroll up",feature_group:2,repeatIgnore:!0,code:m("up")}),t.mappings.add("h",{annotation:"Scroll left",feature_group:2,repeatIgnore:!0,code:m("left")}),t.mappings.add("l",{annotation:"Scroll right",feature_group:2,repeatIgnore:!0,code:m("right")}),t.mappings.add("0",{annotation:"Scroll all the way to the left",feature_group:2,repeatIgnore:!0,code:m("leftmost")}),t.mappings.add("$",{annotation:"Scroll all the way to the right",feature_group:2,repeatIgnore:!0,code:m("rightmost")}),t.mappings.add("%",{annotation:"Scroll to percentage of current page",feature_group:2,repeatIgnore:!0,code:t.scroll.bind(t,"byRatio")}),t.mappings.add("cs",{annotation:"Change scroll target",feature_group:2,repeatIgnore:!0,code:function(){!function(e){if((u=xe.getScrollableElements()).length>0){l=(l+1)%u.length;var n=u[l];P(n),e||t.highlightElement(n)}}()}}),t.mappings.add("/",{annotation:"Find in current page",feature_group:9,repeatIgnore:!0,code:function(){w("openFinder")}}),t.mappings.add("E",{annotation:"Go one tab left",feature_group:3,repeatIgnore:!0,code:function(){_("previousTab")}}),t.mappings.add("R",{annotation:"Go one tab right",feature_group:3,repeatIgnore:!0,code:function(){_("nextTab")}});var v=null;return t.disable=function(){v||(v=function(e){const t=new xe("Disabled");return t.statusLine="",t.priority=99,t.addEventListener("keydown",(function(n){n.sk_suppressed=!0,xe.isSpecialKeyOf("<Alt-s>",n.sk_keyName)&&(e.toggleBlocklist(),t.exit(),n.sk_stopPropagation=!0)})),t}(t),v.enter(0,!0)),w("turnOffDOMObserver"),document.removeEventListener("mouseup",g)},t.enable=function(){v&&(v.exit(),v=null),document.addEventListener("mouseup",g)},t.enable(),t.onExit=function(){w("turnOffDOMObserver"),f.forEach((function(e){delete e.skScrollBy,delete e.smoothScrollBy}))},t};const Le=function(e,t){var n=new xe("Visual");n.addEventListener("keydown",(function(e){if(g){var t=!1;e.sk_stopPropagation=!0,e.sk_suppressed=!0,b.isWordChar(e)?(y(g,e.sk_keyName),v=[g,e.sk_keyName],t=!0):xe.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(t=!0),t&&(n.statusLine=n.name+" - "+p[d],xe.showStatus(),g=0)}else e.sk_keyName.length&&(xe.handleMapKey.call(n,e),e.sk_stopPropagation?e.sk_suppressed=!0:xe.isSpecialKeyOf("<Esc>",e.sk_keyName)&&(d>1?(n.hideCursor(),c.collapse(c.anchorNode,c.anchorOffset),n.showCursor()):(n.visualClear(),n.exit()),d--,R(),e.sk_stopPropagation=!0,e.sk_suppressed=!0))})),n.addEventListener("click",(function(e){switch(c.type){case"None":n.hideCursor(),d=0;break;case"Caret":d&&(n.hideCursor(),0===d&&(d=1),n.showCursor());break;case"Range":d&&(n.hideCursor(),d=2,n.showCursor())}R()})),n.addEventListener("resize",(function(e){k.conf.lastQuery&&n.visualUpdate(k.conf.lastQuery),l[f]&&_(l[f])}));let r=null;const o=()=>{r&&r.forEach((e=>{e.remove()}))};n.addEventListener("selectionchange",(function(e){var t,n,i,a;o(),t=c.anchorNode,n=c.anchorOffset,i=c.focusNode,a=c.focusOffset,r=C("surfingkeys_selection_mark",t,n,i,a)})),n.mappings=new Te,n.map_node=n.mappings,n.repeats="",n.mappings.add("l",{annotation:"forward character",feature_group:9,code:x}),n.mappings.add("h",{annotation:"backward character",feature_group:9,code:x}),n.mappings.add("j",{annotation:"forward line",feature_group:9,code:x}),n.mappings.add("k",{annotation:"backward line",feature_group:9,code:x}),n.mappings.add("w",{annotation:"forward word",feature_group:9,code:x}),n.mappings.add("e",{annotation:"forward word",feature_group:9,code:x}),n.mappings.add("b",{annotation:"backward word",feature_group:9,code:x}),n.mappings.add(")",{annotation:"forward sentence",feature_group:9,code:x}),n.mappings.add("(",{annotation:"backward sentence",feature_group:9,code:x}),n.mappings.add("}",{annotation:"forward paragraphboundary",feature_group:9,code:x}),n.mappings.add("{",{annotation:"backward paragraphboundary",feature_group:9,code:x}),n.mappings.add("0",{annotation:"backward lineboundary",feature_group:9,code:x}),n.mappings.add("$",{annotation:"forward lineboundary",feature_group:9,code:x}),n.mappings.add("G",{annotation:"forward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=document.scrollingElement.scrollHeight,"Firefox"!==S()?x():(n.hideCursor(),c.setPosition(document.body.lastChild,0),n.showCursor()),l.length&&w("showStatus",[[void 0,void 0,(f=l.length-1)+1+" / "+l.length]])}}),n.mappings.add("gg",{annotation:"backward documentboundary",feature_group:9,code:function(){document.scrollingElement.scrollTop=0,f=0,l.length&&w("showStatus",[[void 0,void 0,f+1+" / "+l.length]]),"Firefox"!==S()?x():(n.hideCursor(),c.setPosition(document.body.firstChild,0),n.showCursor())}}),n.mappings.add("o",{annotation:"Go to Other end of highlighted text",feature_group:9,code:function(){n.hideCursor();var e=[c.anchorNode,c.anchorOffset];c.collapse(c.focusNode,c.focusOffset),c.extend(e[0],e[1]),n.showCursor()}});var i={w:"word",l:"lineboundary",s:"sentence",p:"paragraphboundary"};function a(e){if("Firefox"!==S()||"p"!==e&&"s"!==e){var t=i[e];c.modify("extend","forward",t)}}var u=[{},{annotation:"Yank a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(t){var r=[c.focusNode,c.focusOffset];n.hideCursor(),a(t),e.write(c.toString()),c.collapseToStart(),c.setPosition(r[0],r[1]),n.showCursor()}},{annotation:"Copy selected text",feature_group:9,code:function(){var t=[c.focusNode,c.focusOffset];e.write(c.toString()),"Caret"===k.conf.modeAfterYank?(c.setPosition(t[0],t[1]),n.showCursor(),d=1,R()):"Normal"===k.conf.modeAfterYank&&(d=2,n.toggle())}}];function s(e,t){ce(e,(()=>{L(e,["click"],t)}))}n.mappings.add("*",{annotation:"Search word under the cursor",feature_group:9,code:function(){n.star()}}),n.mappings.add(b.encodeKeystroke("<Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(c.focusNode.parentNode,!1)}}),n.mappings.add(b.encodeKeystroke("<Shift-Enter>"),{annotation:"Click on node under cursor.",feature_group:9,code:function(){s(c.focusNode.parentNode,!0)}}),n.mappings.add("zt",{annotation:"make cursor at top of window.",feature_group:9,code:function(){var e=m.getBoundingClientRect().top;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zz",{annotation:"make cursor at center of window.",feature_group:9,code:function(){var e=m.getBoundingClientRect().top-window.innerHeight/2;n.hideCursor(),document.scrollingElement.scrollTop+=e,n.showCursor()}}),n.mappings.add("zb",{annotation:"make cursor at bottom of window.",feature_group:9,code:function(){var e=window.innerHeight-m.getBoundingClientRect().bottom;n.hideCursor(),document.scrollingElement.scrollTop-=e,n.showCursor()}}),n.mappings.add("f",{annotation:"Forward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - forward",xe.showStatus(),g=1}}),n.mappings.add("F",{annotation:"Backward to next char.",feature_group:9,code:function(){n.statusLine=n.name+" - "+p[d]+" - backward",xe.showStatus(),g=-1}}),n.mappings.add(";",{annotation:"Repeat latest f, F",feature_group:9,code:function(){v&&y(v[0],v[1])}}),n.mappings.add(",",{annotation:"Repeat latest f, F in opposite direction",feature_group:9,code:function(){v&&y(-v[0],v[1])}}),n.mappings.add("p",{annotation:"Expand selection to parent element",feature_group:9,code:function(){for(var e=c.focusNode;e!==document.body;){var t=W(e=e.parentElement,/./),r=t[t.length-1],o=c.getRangeAt(0);if(-1===o.comparePoint(t[0],0)||1===o.comparePoint(r,r.length)){n.hideCursor(),d=2,R(),c.setBaseAndExtent(t[0],0,r,r.length),n.showCursor();break}}}}),n.mappings.add("V",{annotation:"Select a word(w) or line(l) or sentence(s) or paragraph(p)",feature_group:9,code:function(e){n.hideCursor(),d=2,R(),a(e),n.showCursor()}});var c=document.getSelection(),l=[],f=0,d=0,p=["","Caret","Range"],h=document.createElement("div"),m=document.createElement("div");m.className="surfingkeys_cursor",m.style.zIndex=2147483299;var g=0,v=null;function y(e,t){n.hideCursor();var r=[c.anchorNode,c.anchorOffset];if(c.focusNode&&c.focusNode.textContent&&c.focusNode.textContent.length&&c.focusNode.textContent[c.focusOffset]===t&&1===e&&c.setPosition(c.focusNode,c.focusOffset+1),N(t,!0,-1===e))if(1===d)c.setPosition(c.focusNode,c.focusOffset-1);else{var o=[c.focusNode,c.focusOffset-1];c.collapseToStart(),c.setPosition(r[0],r[1]),c.extend(o[0],o[1])}else c.setPosition(r[0],r[1]);n.showCursor()}function _(e){n.hideCursor(),c.anchorNode&&2===d?c.extend(e[0],e[1]):c.setPosition(e[0],e[1]),n.showCursor()}function x(){var e=n.map_node.meta.annotation.split(" "),t=2===d?"extend":"move";n.hideCursor();var r=[c.focusNode,c.focusOffset];c.modify(t,e[0],e[1]),r[0]===c.focusNode&&r[1]===c.focusOffset&&c.modify(t,e[0],"word"),n.showCursor()}n.hideCursor=function(){document.body.contains(m)&&(m.remove(),w("cursorHidden"))},n.showCursor=function(){if(c.focusNode&&(c.focusNode.offsetHeight>0||c.focusNode.parentNode.offsetHeight>0)){P(c.focusNode.parentElement,!0);var e=G(c.focusNode,c.focusOffset)[0];e||(e=c.focusNode.getBoundingClientRect()),e&&(m.style.position="fixed",m.style.left=e.left+"px",e.left<0||e.left>=window.innerWidth?(document.scrollingElement.scrollLeft+=e.left-window.innerWidth/2,m.style.left=window.innerWidth/2+"px"):m.style.left=e.left+"px",e.top<0||e.top>=window.innerHeight?(document.scrollingElement.scrollTop+=e.top-window.innerHeight/2,m.style.top=window.innerHeight/2+"px"):m.style.top=e.top+"px",m.style.height=e.height+"px"),document.body.appendChild(m)}},n.getCursorPixelPos=function(){return m.getBoundingClientRect()};const E=document.createElement("div");function C(e,t,n,r,o){let i=G(t,n,r,o);if(i.length>100)return[];const a=Array.from(i).map((t=>{if(t.width>0&&t.height>0){var n=h.cloneNode(!1);return n.className=e,n.style.position="absolute",n.style.zIndex=2147483299,n.style.left=document.scrollingElement.scrollLeft+t.left+"px",n.style.top=document.scrollingElement.scrollTop+t.top+"px",n.style.width=t.width+"px",n.style.height=t.height+"px",E.appendChild(n),n}return null})).filter((e=>null!==e));return a.length&&!document.documentElement.contains(E)&&document.documentElement.prepend(E),a}function T(e,t,n,r){const o=C("surfingkeys_match_mark",e,t,n,r);o.length&&l.push([e,t,o])}function O(e){W(document.body,e).forEach((function(t){for(var n;null!==(n=e.exec(t.data));){var r=n[0];if(!r.length)break;var o=e.lastIndex-r.length;T(t,o,t,o+r.length)}}));var t=document.scrollingElement.scrollTop;for(c.setPosition(null,0);N(e.source,-1===e.flags.indexOf("i"),!1);)c.anchorNode!==c.focusNode&&T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);if(document.scrollingElement.scrollTop=t,l.length){f=0;for(var n=0;n<l.length;n++){if(l[n][2][0].getBoundingClientRect().top>0){f=n;break}}w("showStatus",[[void 0,void 0,f+1+" / "+l.length]])}}function A(){w("hideBubble")}function R(){n.mappings.add("y",u[d]),n.statusLine=n.name+" - "+p[d],xe.showStatus()}function I(){d=(d+1)%3,R()}function N(e,t,n){for(var r=!1,o=null;window.find(e,t,n);){if(c.anchorNode.splitText){r=!0;break}if(null===o)o=c.anchorNode;else if(o===c.anchorNode)break}return r}n.visualClear=function(){o(),n.hideCursor(),l=[],M.forEach((function(e){e.onscroll=null})),M=[],re(E,""),E.remove(),w("showStatus",[[void 0,void 0,""]])},n.emptySelection=function(){document.getSelection().empty()},n.onEnter=function(){document.addEventListener("surfingkeys:cursorHidden",A),I()},n.onExit=function(){n.visualClear(),document.removeEventListener("surfingkeys:cursorHidden",A)},n.restore=function(){c&&c.anchorNode&&(c.setPosition(c.anchorNode,c.anchorOffset),n.showCursor(),n.enter())},n.toggle=function(e){switch(d){case 1:c.extend(c.anchorNode,c.anchorOffset),I();break;case 2:n.hideCursor(),c.collapse(c.focusNode,c.focusOffset),n.exit(),I();break;default:t.create(k.conf.textAnchorPat,(function(t){setTimeout((function(){c.setPosition(t[0],t[1]),n.enter(),"z"===e&&(0===t[1]?c.extend(t[0],t[0].textContent.length):c.extend(t[0],t[1]+t[2].length),I()),n.showCursor()}),0)}))}},n.star=function(){if(c.focusNode&&c.focusNode.nodeValue){var e=Q();if(e.length&&"."!==e){n.hideCursor();var t=[c.focusNode,c.focusOffset];k.updateHistory("find",e),n.visualClear(),O(new RegExp(e,"g"+(k.getCaseSensitive(e)?"":"i"))),c.setPosition(t[0],t[1]),n.showCursor()}}},n.next=function(e){l.length?(0===d&&n.enter(),f=(e?l.length+f-1:f+1)%l.length,_(l[f]),w("showStatus",[[void 0,void 0,f+1+" / "+l.length]])):k.conf.lastQuery&&(O(new RegExp(k.conf.lastQuery,"g"+(k.getCaseSensitive(k.conf.lastQuery)?"":"i"))),n.visualEnter(k.conf.lastQuery))},n.feedkeys=function(e){setTimeout((function(){for(var t=new Event("keydown"),r=0;r<e.length;r++)t.sk_keyName=e[r],xe.handleMapKey.call(n,t)}),1)},n.visualUpdate=function(e){n.visualClear(),c.setPosition(function(e){for(var t=null,n=W(document.body,/./,0);n.nextNode();)if(n.currentNode.parentNode.getBoundingClientRect().top>window.innerHeight*e){t=n.currentNode;break}return t}(0),0);var t=document.scrollingElement.scrollTop,r=[c.anchorNode,c.anchorOffset],o=k.getCaseSensitive(e);if(N(e,o,!1)?c.setPosition(r[0],r[1]):c.setPosition(document.body.firstChild,0),N(e,o,!1)){for(document.scrollingElement.scrollTop!==t&&(t=document.scrollingElement.scrollTop,r=[c.anchorNode,c.anchorOffset]),T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);document.scrollingElement.scrollTop===t&&N(e,o,!1);)T(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset);document.scrollingElement.scrollTop=t,c.setPosition(r[0],r[1])}};var M=[];n.visualEnter=function(e){0!==e.length&&"."!==e&&(n.visualClear(),O(new RegExp(e,"g"+(k.getCaseSensitive(e)?"":"i"))),l.length?(n.enter(),_(l[f])):w("showStatus",[[void 0,void 0,"Pattern not found: {0}".format(e)],1e3]),xe.getScrollableElements().forEach((function(e){e!==document.scrollingElement&&(e.onscroll=function(){l.forEach((function(e){var t=G(e[0],e[1])[0];e[2].forEach((e=>{e.style.left=document.scrollingElement.scrollLeft+t.left+"px",e.style.top=document.scrollingElement.scrollTop+t.top+"px"}))}))},M.push(e))})))},n.findSentenceOf=function(e){var t=new RegExp("\\b"+e+"\\b"),n=B((function(e,n){t.test(e.innerText)&&n.push(e)}));n=H(n);var r="";return F((function(t){t.setPosition(n[0],0),window.find(e,!1,!1,!0,!0)&&(a("s"),r=t.toString())})),r};var U={};return n.style=function(e,t){U[e]=t,m.setAttribute("style",U.cursor||""),h.setAttribute("style",U.marks||"")},n};const Re=function(e,t){var n=new xe("Hints"),r=document.createElement("div");r.className="surfingkeys_hints_host",r.attachShadow({mode:"open"});var o=oe("style","\ndiv {\n    position: absolute;\n    display: block;\n    font-size: 8pt;\n    font-weight: bold;\n    padding: 0px 2px 0px 2px;\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#FFF785), color-stop(100%,#FFC542));\n    color: #000;\n    border: solid 1px #C38A22;\n    border-radius: 3px;\n    box-shadow: 0px 3px 7px 0px rgba(0, 0, 0, 0.3);\n    width: auto;\n}\ndiv:empty {\n    display: none;\n}\n[mode=text] div {\n    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#aaa), color-stop(100%,#fff));\n}\ndiv.hint-scrollable {\n    background: rgba(170, 170, 255, 0.85);\n}\n[mode=text] div.begin {\n    color: #00f;\n}\n[mode=input] div {\n    background: rgba(255, 217, 0, 0.25);\n}\n[mode=input] div.activeInput {\n    background: rgba(0, 0, 255, 0.25);\n}");r.shadowRoot.appendChild(o);let i=!1;n.setNumeric=function(){i=!0};let a="asdfgqwertzxcvb",u=[];n.setCharacters=function(e){a=e;for(const n of e)t.isScrollKeyInHints(n)&&u.push(n)},n.getCharacters=()=>a,n.addEventListener("keydown",(function(n){var r=d.querySelectorAll("div");n.sk_stopPropagation=!0;var o=d.querySelector("[mode=input]>div.activeInput");if(null===o){if(xe.isSpecialKeyOf("<Esc>",n.sk_keyName))E();else if(n.keyCode===b.keyCodes.space)d.style.display="none";else if(n.keyCode===b.keyCodes.shiftKey)!function(){var e=d.querySelectorAll("div");e[0].style.zIndex==e[0].zIndex?e.forEach((function(t,n){var r=parseInt(t.style.zIndex);t.style.zIndex=e.length-n+2147483e3-r})):e.forEach((function(e,t){e.style.zIndex=e.zIndex}))}();else if(r.length>0)if(n.keyCode===b.keyCodes.backspace)s.length>0?(s=s.substr(0,s.length-1),y(n)):c.length>0&&(c=c.substr(0,c.length-1),x());else{var l=n.sk_keyName;(function(e){return e===e.toUpperCase()&&e!==e.toLowerCase()})(l)&&(p=!0),""!==l&&(i?(l>="0"&&l<="9"?s+=l:(c+=l,x()),y(n)):-1!==a.toLowerCase().indexOf(l.toLowerCase())?(s+=l.toUpperCase(),y(n)):t.isScrollKeyInHints(l)&&-1===u.indexOf(l)?n.sk_stopPropagation=!1:E())}}else{var f=o.link;xe.isSpecialKeyOf("<Esc>",n.sk_keyName)?(f.blur(),E()):n.keyCode===b.keyCodes.tab?(o.classList.remove("activeInput"),h.activeInput=(h.activeInput+(n.shiftKey?-1:1))%r.length,(o=r[h.activeInput]).classList.add("activeInput"),(f=o.link).focus()):n.keyCode!==b.keyCodes.shiftKey&&(n.sk_stopPropagation=!1,E(),e.enter(f))}})),n.addEventListener("keyup",(function(e){e.keyCode===b.keyCodes.space&&(d.style.display="")}));var s="",c="",l=null,f={mouseEvents:["mouseover","mousedown","mouseup","click"]},d=oe("section","",{style:"display: block; opacity: 1;"}),p=!1,h={},m=n.dispatchMouseClick,g="";function v(e){var t=0;do{var n=parseInt(getComputedStyle(e).getPropertyValue("z-index"));t+=isNaN(n)||n<0?0:n,e=e.parentNode}while(e&&e!==document.body&&e!==document&&e.nodeType!==e.DOCUMENT_FRAGMENT_NODE);return t}function y(e){const n=d.querySelectorAll("div:not(:empty)"),r=pe(n,s);r.matched?(t.appendKeysForRepeat("Hints",s),m(r.matched),f.multipleHits?pe(n,s=""):E()):0===r.candidates&&E(),e&&(xe.suppressKeyUp(e.keyCode),e.stopImmediatePropagation(),e.preventDefault())}function x(){var e=d.querySelectorAll("div");e=Array.from(e),c.length>0&&(e=e.filter((function(e){e.label="",re(e,"");var t=e.link,n=t.innerText;return void 0===n&&(n=t[0]?t[0].textContent:""),-1!==n.indexOf(c)})));var t=n.genLabels(e.length);e.forEach((function(e,n){e.label=t[n],re(e,t[n])}))}function E(){f={active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},re(d,""),d.remove(),r.remove(),s="",c="",p=!1,n.exit()}function C(e){re(d,""),d.remove(),s=""}function O(){if(document.documentElement.contains(r)){var e=(new Date).getTime(),t=U(g,h);t>0&&(n.statusLine+=" - "+((new Date).getTime()-e)+"ms / "+t,xe.showStatus())}}function A(e){for(var t=e.href;!t&&e;)t=(e=e.parentElement).href;return t}function R(e){for(var t=0;t<k.conf.pageUrlRegex.length;t++){var n=window.location.href.match(k.conf.pageUrlRegex[t]);if(n&&4===n.length){var r=parseInt(n[2]);if(r<4294967295)return window.location.href=n[1]+(r+e)+n[3],!0}}return!1}function I(e){let t={};return e.forEach((function(e){let n=e.getAttribute("href");t[n]||(t[n]=e)})),Object.values(t)}function N(e){re(d,""),d.setAttribute("mode",e),d.style.display=""}function P(e){N("click");var t=n.genLabels(e.length),o=n.coordinate(),i=oe("style",F);d.prepend(i);var a=e.map((function(e,n){var r,i=K(e),a=v(e),u=Math.min(i.width,window.innerWidth);(r="right"===k.conf.hintAlign?window.pageXOffset+i.left-o.left+u:"left"===k.conf.hintAlign?window.pageXOffset+i.left-o.left:window.pageXOffset+i.left-o.left+u/2)<window.pageXOffset?r=window.pageXOffset:r+32>window.pageXOffset+window.innerWidth&&(r=window.pageXOffset+window.innerWidth-32);var s=oe("div",t[n]);return e.dataset.hint_scrollable&&s.classList.add("hint-scrollable"),s.style.top=Math.max(i.top+window.pageYOffset-o.top,0)+"px",s.style.left=r+"px",s.style.zIndex=a+9999,s.zIndex=s.style.zIndex,s.label=t[n],s.link=e,s}));a.forEach((function(e){d.appendChild(e)}));for(var u=d.querySelectorAll("div"),s=K(u[0]),c=1;c<u.length;c++){var l=u[c],f=K(l);f.top===s.top&&Math.abs(f.left-s.left)<s.width&&(l.style.top=l.offsetTop+l.offsetHeight+"px"),s=K(l)}r.shadowRoot.appendChild(d)}function U(e,t){return document.documentElement.appendChild(r),"RegExp"===e.constructor.name?function(e,t){for(var o in t)f[o]=t[o];n.statusLine=t&&t.statusLine||"Hints to select text";var i,a=B((function(e,t){for(var n=e.childNodes,r=0,o=n.length;r<o;r++)if(n[r].nodeType==Node.TEXT_NODE&&n[r].data.length>0){t.push(e);break}}));if(a=a.flatMap((function(e){for(var t=e.childNodes,n=[],r=0,o=t.length;r<o;r++)t[r].nodeType==Node.TEXT_NODE&&t[r].data.trim().length>1&&n.push(t[r]);return n})),-1===e.flags.indexOf("g"))i=a.map((function(e){return[e,0,""]}));else{i=[];for(var u=0,s=a.length;u<s;u++)for(var c,l=a[u];null!=(c=e.exec(l.data));)i.push([l,c.index,c[0]])}if(a=i.map((function(e){var t=$(e[0],e[1]),n=[0,0,window.innerHeight,window.innerWidth];if(k.conf.caretViewport&&4===k.conf.caretViewport.length&&(n=k.conf.caretViewport),0===e[0].data.trim().length||t.top<n[0]||t.left<n[1]||t.top>n[2]||t.left>n[3])return null;var r=v(e[0].parentNode),o=document.createElement("div");return 0===e[1]&&(o.className="begin"),o.style.position="fixed",o.style.top=t.top+"px",o.style.left=t.left+"px",o.style.zIndex=r+9999,o.zIndex=o.style.zIndex,o.link=e,o})).filter((function(e){return null!==e})),document.getSelection().anchorNode&&document.getSelection().collapseToStart(),a.length>0){N("text");var p=n.genLabels(a.length);a.forEach((function(e,t){e.label=p[t],re(e,p[t]),d.append(e)}));var h=oe("style",D);d.prepend(h),r.shadowRoot.appendChild(d)}return a.length}(e,t):Array.isArray(e)?function(e,t){for(var r in t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1,filterInvisible:!0},t||{}))f[r]=t[r];return n.statusLine=t&&t.statusLine||"Hints to click",t.filterInvisible&&(e=ne(e)),e.length>0&&P(e),e.length}(e,t):function(e,t){for(var r in n.statusLine="Hints to click",t=Object.assign({active:!0,tabbed:!1,mouseEvents:["mouseover","mousedown","mouseup","click"],multipleHits:!1},t||{}))f[r]=t[r];var o;return(o=""===e?q(o=B((function(e,t){T(e)&&t.push(e)}))):Array.isArray(e)?ne(e):q(o=ne(o=B((function(t,n){!t.matches(e)||t.disabled||t.readOnly||n.push(t)}))))).length>0&&P(o),o.length}(e,t)}n.click=function(e,t){"string"==typeof e&&(e=z(e)),e.length>1?t?e.forEach((function(e){n.dispatchMouseClick(e)})):n.create(e,n.dispatchMouseClick):1===e.length&&n.dispatchMouseClick(e[0])},n.previousPage=function(){var e=I(z("[rel=prev]",k.conf.prevLinkRegex));return e.length?(n.click(e),!0):R(-1)},n.nextPage=function(){var e=I(z("[rel=next]",k.conf.nextLinkRegex));return e.length?(n.click(e),!0):R(1)},document.addEventListener("surfingkeys:topBoundaryHit",n.previousPage),document.addEventListener("surfingkeys:bottomBoundaryHit",n.nextPage),n.onEnter=function(){document.addEventListener("surfingkeys:scrollStarted",C),document.addEventListener("surfingkeys:scrollDone",O)},n.onExit=function(){document.removeEventListener("surfingkeys:scrollStarted",C),document.removeEventListener("surfingkeys:scrollDone",O)},n.genLabels=function(e){var t,n,r,o,i,u;for(r=[""],u=0;r.length-u<e||1===r.length;)for(n=r[u++],o=0,i=a.length;o<i;o++)t=a[o],r.push(t+n);return(r=r.slice(u,u+e)).map((function(e){return e.reverse().toUpperCase()}))},n.coordinate=function(){var e=oe("div","A",{style:"top: 0; left: 0;"});d.prepend(e),r.shadowRoot.appendChild(d);var t=e.getBoundingClientRect(),n={top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft};return re(d,""),d.remove(),n},n.createInputLayer=function(){document.documentElement.appendChild(r);const o="input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor";var i=B((function(e,t){!e.matches(o)||e.disabled||e.readOnly||"text"!==e.type&&"email"!==e.type&&"search"!==e.type&&"password"!==e.type||t.push(e)}));if(0===i.length&&null!==document.querySelector(o)&&(document.querySelector(o).scrollIntoView(),i=B((function(e,t){!e.matches(o)||e.disabled||e.readOnly||t.push(e)}))),i.length>1){n.enter(),N("input"),i.forEach((function(e,t){var n=e.getBoundingClientRect(),r=v(e),o=document.createElement("div");o.style.position="fixed",o.style.top=n.top+"px",o.style.left=n.left+"px",o.style.width=n.width+"px",o.style.height=n.height+"px",o.style.zIndex=r+9999,o.link=e,o.innerText=" ",d.append(o)})),r.shadowRoot.appendChild(d),h.activeInput=0;var a=d.querySelector("[mode=input]>div");a.classList.add("activeInput"),t.passFocus(!0),a.link.focus()}else 1===i.length&&(t.passFocus(!0),i[0].focus(),e.enter(i[0]))},n.getSelector=function(){return g},n.create=function(e,t,r){i&&(a="1234567890"),g=e,m=t,h=r||{};var o=(new Date).getTime(),u=U(e,r);return u>(k.conf.hintExplicit?0:1)?(n.statusLine+=" - "+((new Date).getTime()-o)+"ms / "+u,n.enter()):y(),u>0},n.dispatchMouseClick=function(r,o){if(M(r))n.exit(),t.passFocus(!0),r.focus(),e.enter(r);else{f.multipleHits||n.exit();var i=f.tabbed,a=f.active;if(f.multipleHits){const e=r.getAttribute("href");null!==e&&"#"!==e&&(i=!0,a=!1)}p&&k.conf.hintShiftNonActive?(i=!0,a=!1):p&&"Firefox"===S()&&(i=!0,a=!0),ce(r,(()=>{i?_("openLink",{tab:{tabbed:i,active:a},url:A(r)}):(n.mouseoutLastElement(),L(r,f.mouseEvents,p),w("turnOnDOMObserver"),l=r),f.multipleHits&&setTimeout(O,300)}))}},n.mouseoutLastElement=function(){l&&(L(l,["mouseout"],!1),l=null)};var D="",F="";return n.style=function(e,t){/^div\b/.test(e)||(e=`div{${e}}`),"text"===t?D=e.replace(/\bdiv\b/g,"[mode='text'] div"):F=e.replace(/\bdiv\b/g,"div")},n.feedkeys=function(e){setTimeout((function(){s=e.toUpperCase(),y()}),1)},n};const Ie=function(e,t,n,r,o,i,a){function u(e,t,n){var r={code:e};return n&&(r.repeatIgnore=n),t&&(t=Z(t),r.feature_group=t.feature_group,r.annotation=t.annotation),r}function s(e){return!e||e.test(document.location.href)||e.test(window.origin)}function c(e,t,n,r,i){if(s((i=i||{}).domain)){t=b.encodeKeystroke(t);var a=e.mappings.remove(t);if(a)N("warn",a.meta?`${a.meta.word} for [${a.meta.annotation}] is overridden by [${n}].`:a.getMetas((function(){return!0})).map((function(e){return`${e.word} for [${e.annotation}] is overridden by [${n}].`})));else if(t.length>1)for(var c=t.substr(0,t.length-1);c.length>0;){if((a=e.mappings.find(c))&&a.meta)return void N("warn",`${a.meta.word} for [${a.meta.annotation}] precedes ${t}.`);c=c.substr(0,c.length-1)}var l=u(r,{annotation:n,feature_group:e===o?9:14},i.repeatIgnore);e.mappings.add(t,l)}}function l(e,t,r,o){c(n,e,t,r,o)}function f(e,t,n,r){c(o,e,t,n,r)}function d(e,n,r,o){c(t,e,n,r,o)}function p(e,t){if(s(t))if(n.mappings.find(b.encodeKeystroke(e)))n.mappings.remove(b.encodeKeystroke(e));else for(var r in xe.specialKeys){var o=xe.specialKeys[r].indexOf(e);-1!==o&&xe.specialKeys[r].splice(o,1)}}function h(e,t){s(t)&&o.mappings.remove(b.encodeKeystroke(e))}function m(t,n,r,o){e.read((function(e){var a=window.getSelection().toString()||e.data;n&&(a="site:"+window.location.hostname+" "+a),r?i.openOmnibar({type:"SearchEngine",extra:o,pref:a}):te(ee(t,encodeURIComponent(a)))}))}function g(e){var n=R();n.blur(),t.exit(),i.showEditor(n,null,null,e)}function v(){window.getSelection().toString()?m("https://translate.google.com/?hl=en#auto/en/",!1,!1,""):te("https://translate.google.com/translate?js=n&sl=auto&tl=zh-CN&u="+window.location.href)}return l("[[","#1Click on the previous link on current page",r.previousPage),l("]]","#1Click on the next link on current page",r.nextPage),l("T","#3Choose a tab",(function(){i.chooseTab()})),l("?","#0Show usage",(function(){i.showUsage()})),l("Q","#8Open omnibar for word translation",(function(){i.openOmniquery({query:Q(),style:"opacity: 0.8;"})})),d("<Ctrl-'>","#15Toggle quotes in an input element",I),d("<Ctrl-i>","#15Open vim editor for current input",(function(){g(!1)})),"Chrome"===S()&&(d("<Ctrl-Alt-i>","#15Open neovim for current input",(function(){g(!0)})),l(";s","Toggle PDF viewer from SurfingKeys",(function(){var e=window.location.href;0===e.indexOf(chrome.extension.getURL("/pages/pdf_viewer.html"))?(e=window.location.search.substr(3),chrome.storage.local.set({noPdfViewer:1},(function(){window.location.replace(e)}))):document.querySelector("EMBED")&&"application/pdf"===document.querySelector("EMBED").getAttribute("type")?chrome.storage.local.remove("noPdfViewer",(function(){window.location.replace(e)})):chrome.storage.local.get("noPdfViewer",(function(e){e.noPdfViewer?chrome.storage.local.remove("noPdfViewer",(function(){O("PDF viewer enabled.")})):chrome.storage.local.set({noPdfViewer:1},(function(){O("PDF viewer disabled.")}))}))}))),l(";ql","#0Show last action",(function(){A(ae(k.conf.lastKeys.map((function(e){return b.decodeKeystroke(e)})).join(" → ")))}),{repeatIgnore:!0}),l("gi","#1Go to the first edit box",(function(){r.createInputLayer()})),l("i","#1Go to edit box",(function(){r.create("input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor",r.dispatchMouseClick)})),l("I","#1Go to edit box with vim editor",(function(){r.create("input:not([type=submit]), textarea, *[contenteditable=true], *[role=textbox], select, div.ace_cursor",(function(e){i.showEditor(e)}))})),l("zv","#9Enter visual mode, and select whole element",(function(){o.toggle("z")})),l("yv","#7Yank text of an element",(function(){r.create(k.conf.textAnchorPat,(function(t){e.write(0===t[1]?t[0].data.trim():t[2].trim())}))})),l("ymv","#7Yank text of multiple elements",(function(){var t=[];r.create(k.conf.textAnchorPat,(function(n){t.push(0===n[1]?n[0].data.trim():n[2].trim()),e.write(t.join("\n"))}),{multipleHits:!0})})),l("V","#9Restore visual mode",(function(){o.restore()})),l("*","#9Find selected text in current page",(function(){o.star(),o.toggle()})),f("<Ctrl-u>","#9Backward 20 lines",(function(){o.feedkeys("20k")})),f("<Ctrl-d>","#9Forward 20 lines",(function(){o.feedkeys("20j")})),l("m","#10Add current URL to vim-like marks",n.addVIMark),l("'","#10Jump to vim-like mark",n.jumpVIMark),l("<Ctrl-'>","#10Jump to vim-like mark in new tab.",(function(e){n.jumpVIMark(e)})),l("w","#2Switch frames",(function(){w("ensureFrontEnd"),window===top&&r.create("iframe",(function(e){e.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),n.highlightElement(e),e.contentWindow.focus()}))||n.rotateFrame()})),l("yg","#7Capture current page",(function(){i.toggleStatus(!1),setTimeout((function(){_("captureVisibleTab",null,(function(e){i.toggleStatus(!0),A("<img src='{0}' />".format(e.dataUrl))}))}),500)})),l("gu","#4Go up one path in the URL",(function(){var e=location.pathname;if(e.length>1){var t=(e=e.endsWith("/")?e.substr(0,e.length-1):e).lastIndexOf("/"),n=_.repeats;for(_.repeats=1;n-- >1;){var r=e.lastIndexOf("/",t-1);if(-1===r)break;t=r}e=e.substr(0,t)}window.location.href=location.origin+e})),l(";m","#1mouse out last element",(function(){r.mouseoutLastElement()})),l(";pp","#7Paste html on current page",(function(){e.read((function(e){document.documentElement.removeAttributes(),document.body.removeAttributes(),re(document.head,"<title>"+new Date+" updated by Surfingkeys</title>"),re(document.body,e.data)}))})),l(";t","Translate selected text with google",v),f("t","#9Translate selected text with google",v),l("O","#1Open detected links from text",(function(){r.create(k.conf.clickablePat,(function(e){window.location.assign(e[2])}),{statusLine:"Open detected links from text"})})),l(".","#0Repeat last action",(function(){const e=k.conf.lastKeys;n.feedkeys(e[0]);for(var t=e.slice(1),o=0;o<t.length;o++){var i=t[o].split("\t");if("Hints"===i[0]){function a(){var e=i[1];return function(){r.feedkeys(e)}}setTimeout(a(),120+100*o)}}}),{repeatIgnore:!0}),l("f","#1Open a link, press SHIFT to flip overlapped hints, hold SPACE to hide hints",(function(){r.create("",r.dispatchMouseClick)}),{repeatIgnore:!0}),l("v","#9Toggle visual mode",(function(){o.toggle()}),{repeatIgnore:!0}),l("n","#9Next found text",(function(){o.next(!1)}),{repeatIgnore:!0}),l("N","#9Previous found text",(function(){o.next(!0)}),{repeatIgnore:!0}),l(";fs","#1Display hints to focus scrollable elements",(function(){r.create(n.refreshScrollableElements(),r.dispatchMouseClick)})),f("q","#9Translate word under cursor",(function(){var e=Q();a.readText(e);var t=o.getCursorPixelPos();i.performInlineQuery(e,{top:t.top,left:t.left,height:t.height,width:t.width},(function(e,t){w("showBubble",[e,t,!0])}))})),l("cq","#7Query word with Hints",(function(){r.create(k.conf.textAnchorPat,(function(e){var t,n,r,o=e[2].trim().replace(/[^A-z].*$/,""),a=$(e[0],e[1],e[2].length);void 0!==document.dictEnabled?document.dictEnabled&&window.postMessage({dictorium_data:{type:"OpenDictoriumQuery",word:o,sentence:(t=e[0],n=e[1],r="",F((function(e){e.setPosition(t,n),e.modify("extend","backward","sentence"),e.collapseToStart(),e.modify("extend","forward","sentence"),r=e.toString()})),r.replace(/\n/g,"")),pos:a,source:window.location.href}}):i.performInlineQuery(o,{top:a.top,left:a.left,height:a.height,width:a.width},(function(e,t){w("showBubble",[e,t,!1])}))}))})),{RUNTIME:_,aceVimMap:function(e,t,n){w("addVimMap",[e,t,n])},addVimMapKey:function(){w("addVimKeyMap",Array.from(arguments))},addSearchAlias:function(e,t,n,r,o,a,u,s){if(function(e,t,n,r,o,a){i.addSearchAlias(e,t,n,r,o,a)}(e,t,n,o,a,s),!(s?.skipMaps??!1)){l((r||"s")+e,"#6Search selected with "+t,d),l("o"+e,"#8Open Search with alias "+e,(()=>{i.openOmnibar({type:"SearchEngine",extra:e})})),f((r||"s")+e,"",d),l((r||"s")+(u||"o")+e,"",p),f((r||"s")+(u||"o")+e,"",p);var c=e.toUpperCase();if(c!==e){function h(){m(n,!1,!0,e)}function g(){m(n,!0,!0,e)}l((r||"s")+c,"",h),f((r||"s")+c,"",h),l((r||"s")+(u||"o")+c,"",g),f((r||"s")+(u||"o")+c,"",g)}}function d(){m(n)}function p(){m(n,!0)}},cmap:function(e,t,n,r){s(n)&&w("addMapkey",["Omnibar",e,t])},imap:function(e,n,r,o){s(r)&&J(t,e,n,o)},imapkey:d,insertJS:ue,isElementPartiallyInViewport:D,getBrowserName:S,getClickableElements:z,getFormData:function(e,t){var n=new FormData(e);if("json"===t){var r={};return n.forEach((function(e,t){if(r.hasOwnProperty(t)){if(e.length){var n=r[t];"Array"===n.constructor.name?n.push(e):(r[t]=[],n.length&&r[t].push(n),r[t].push(e))}}else r[t]=e})),r}return new URLSearchParams(n).toString()},lmap:function(e,t,r,o){s(r)&&n.addLurkMap(e,t)},map:function(e,t,r,o){if(s(r))if(":"===t[0]&&t.length>1){var a=t.substr(1),c=u((function(){i.executeCommand(a)}),o?Z({annotation:o}):null,!1);n.mappings.add(b.encodeKeystroke(e),c)}else!J(n,e,t,o)&&t in xe.specialKeys?(xe.specialKeys[t].push(e),w("addMapkey",["Mode",e,t])):N("warn",`${t} not found in normal mode.`)},unmap:p,unmapAllExcept:function(e,r){s(r)&&[n,t].forEach((function(t){for(var n=new Te,r=0,o=(e=e||[]).length;r<o;r++){var i=b.encodeKeystroke(e[r]),a=t.mappings.find(i);a&&n.add(i,a.meta)}delete t.mappings,t.mappings=n,t.map_node=n}))},iunmap:function(e,n){s(n)&&t.mappings.remove(b.encodeKeystroke(e))},vunmap:h,mapkey:l,readText:a.readText,removeSearchAlias:function(e,t,n){!function(e){i.removeSearchAlias(e)}(e),p((t||"s")+e),p("o"+e),h((t||"s")+e),p((t||"s")+(n||"o")+e),h((t||"s")+(n||"o")+e);var r=e.toUpperCase();r!==e&&(p((t||"s")+r),h((t||"s")+r),p((t||"s")+(n||"o")+r),h((t||"s")+(n||"o")+r))},searchSelectedWith:m,tabOpenLink:te,vmap:function(e,t,n,r){s(n)&&J(o,e,t,r)},vmapkey:f,Clipboard:e,Normal:{feedkeys:n.feedkeys,jumpVIMark:n.jumpVIMark,passThrough:n.passThrough,scroll:n.scroll},Hints:{click:r.click,create:r.create,dispatchMouseClick:r.dispatchMouseClick,style:r.style,setNumeric:r.setNumeric,setCharacters:r.setCharacters},Visual:{style:o.style},Front:{openOmnibar:i.openOmnibar,registerInlineQuery:i.registerInlineQuery,showEditor:i.showEditor,getUsage:i.getUsage,showBanner:O,showPopup:A}}};var Ne=n(486);const Me="➤",Pe=`<span class='separator'>${Me}</span>`;function Ue(e,t,n){var r,o={prompt:e};const i=()=>{let e=++r;n().then((n=>{if(e===r){var o=t.input.value;t.detectAndInsertURLItem(o,n),t.listURLs(n,!1)}}))};return o.onOpen=function(e){r=0,i()},o.onInput=(0,Ne.debounce)(i,200),o.onClose=function(){o.onInput.cancel()},o.onReset=function(){k.conf.historyMUOrder=!k.conf.historyMUOrder,n().then((e=>{e=k.conf.historyMUOrder?e.sort((function(e,t){return t.visitCount-e.visitCount})):e.sort((function(e,t){return t.lastVisitTime-e.lastVisitTime})),t.listURLs(e,!1)}))},o}const De=function(e,t){var n=new xe("Omnibar");n.addEventListener("keydown",(function(e){e.sk_keyName.length&&xe.handleMapKey.call(n,e),e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){f.contains(t.target)||e.hidePopup(),t.sk_suppressed=!0})),n.mappings=new Te,n.map_node=n.mappings;var r=-1;function o(t){e.hidePopup(),setTimeout(t,100)}n.mappings.add(b.encodeKeystroke("<Ctrl-d>"),{annotation:"Delete focused item from bookmark or history",feature_group:8,code:function(){var e=n.resultsDiv.querySelector("li.focused");e&&e.uid&&_("removeURL",{uid:e.uid},(function(t){if("Done"===t.response){var o="bottom"!==k.conf.omnibarPosition?e.nextElementSibling:e.previousElementSibling;e.remove(),o?n.focusItem(o):(r="bottom"!==k.conf.omnibarPosition?n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li").length:0,n.input.dispatchEvent(new Event("input",{bubbles:!0})))}}))}});const i=function(e,t){var n={aliases:{}},r=void 0;function o(){r&&(clearTimeout(r),r=void 0)}function i(t){e.detectAndInsertURLItem(e.input.value,t);var n=le(encodeURIComponent(e.input.value),!0);e.listResults(t,(function(t){if(t.hasOwnProperty("html"))return e.createItemFromRawHtml(t);if(t.hasOwnProperty("url"))return e.createURLItem(t,n);var r=oe("li",`⌕ ${t}`);return r.query=t,r}))}return n.onOpen=function(t){Object.assign(n,n.aliases[t]);var r=e.input.value;if(r.length){var o=r.match(/^(site:\S+\s*).*/);o&&e.input.setSelectionRange(o[1].length,r.length),e.triggerInput()}},n.onClose=function(){o(),n.prompt=void 0,n.url=void 0,n.suggestionURL=void 0},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");t&&t.query&&(e.input.value=t.query)},n.onEnter=function(){var t,r=e.resultsDiv.querySelector("li.focused");return t=r?r.url||ee(n.url,encodeURIComponent(r.query||e.input.value)):ee(n.url,encodeURIComponent(e.input.value)),_("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:t}),this.activeTab},n.onInput=function(){n.suggestionURL&&k.conf.omnibarSuggestion?(o(),r=setTimeout((function(){const r=ee(n.suggestionURL,encodeURIComponent(e.input.value));_("request",{method:"get",url:r},(function(o){t.contentCommand({action:"getSearchSuggestions",url:n.suggestionURL,query:e.input.value,requestUrl:r,response:o},(function(e){e=e.data,Array.isArray(e)||(e=[]),i(e)}))}))}),k.conf.omnibarSuggestionTimeout)):i([])},t._actions.addSearchAlias=function(e){n.aliases[e.alias]={prompt:""+e.prompt+Pe,url:e.url,suggestionURL:e.suggestionURL};const r=`surfingkeys.searchEngineIcon.${e.prompt}`,o=localStorage.getItem(r);if(o)n.aliases[e.alias].prompt=`<img src="${o}" alt=${e.prompt} style="width: 20px;" />`;else if(t.topOrigin.startsWith("http")){let t;e.options?.favicon_url?t=new URL(e.options.favicon_url):(t=new URL(e.url),t.pathname="favicon.ico",t.search="",t.hash=""),_("requestImage",{url:t.href},(function(t){t&&(localStorage.setItem(r,t.text),n.aliases[e.alias].prompt=`<img src="${t.text}" alt=${e.prompt} style="width: 20px;" />`)}))}},t._actions.removeSearchAlias=function(e){delete n.aliases[e.alias]},t._actions.getSearchAliases=function(e){t.postMessage({aliases:n.aliases,toContent:!0,id:e.id})},n}(n,e);n.mappings.add(b.encodeKeystroke("<Ctrl-i>"),{annotation:"Edit selected URL with vim editor, then open",feature_group:8,code:function(){var t=n.resultsDiv.querySelector("li.focused");if(t&&t.url)o((function(){e.showEditor({initial_line:1,type:"url",content:t.url,onEditorSaved:function(e){e&&te(e)}})}));else if(u===i){var r=n.input.value,a=i.url;o((function(){e.showEditor({initial_line:1,type:"url",content:r,onEditorSaved:function(e){te(ee(a,encodeURIComponent(e)))}})}))}}}),n.mappings.add(b.encodeKeystroke("<Ctrl-j>"),{annotation:"Toggle Omnibar's position",feature_group:8,code:function(){"bottom"===k.conf.omnibarPosition?k.conf.omnibarPosition="middle":k.conf.omnibarPosition="bottom",o((function(){v.pref=n.input.value,e.openOmnibar(v)}))}}),n.mappings.add(b.encodeKeystroke("<Ctrl-.>"),{annotation:"Show results of next page",feature_group:8,code:function(){h&&(p*k.conf.omnibarMaxResults<h.length?p++:p=1,C())}}),n.mappings.add(b.encodeKeystroke("<Ctrl-,>"),{annotation:"Show results of previous page",feature_group:8,code:function(){h&&(p>1?p--:p=Math.ceil(h.length/k.conf.omnibarMaxResults),C())}}),n.mappings.add(b.encodeKeystroke("<Ctrl-c>"),{annotation:"Copy selected item url or all listed item urls",feature_group:8,code:function(){n.input.style.display="none";const e=n.resultsDiv.querySelector("li.focused");let r;e&&e.copy?r=e.copy:e&&e.url?r=e.url:g&&(r=g.map((e=>e.url)).join("\n")),t.write(r),n.input.style.display=""}}),n.mappings.add(b.encodeKeystroke("<Ctrl-D>"),{annotation:"Delete all listed items from bookmark or history",feature_group:8,code:function(){var e=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")).map((function(e){return e.uid})).filter((function(e){return e}));e.length&&_("removeURL",{uid:e},(function(e){"Done"===e.response&&(u&&u.getResults&&u.getResults(),n.triggerInput())}))}}),n.mappings.add(b.encodeKeystroke("<Ctrl-r>"),{annotation:"Re-sort history by visitCount or lastVisitTime",feature_group:8,code:function(){u&&u.onReset&&u.onReset()}}),n.mappings.add(b.encodeKeystroke("<Esc>"),{annotation:"Close Omnibar",feature_group:8,code:function(){e.hidePopup()}}),n.mappings.add(b.encodeKeystroke("<Ctrl-m>"),{annotation:"Create vim-like mark for selected item",feature_group:8,code:function(e){var t=n.resultsDiv.querySelector("li.focused");t&&Normal.addVIMark(e,t.url)}});var a,u,s={},c="",l=null,f=document.getElementById("sk_omnibar");function d(e){var t=Array.from(n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),r=t.length;if(r>0){var o=n.resultsDiv.querySelector("li.focused");o&&o.classList.remove("focused");var i=t.indexOf(o);i=-1===i?r:i;var a=(e?i+r:i+r+2)%(r+1);a<r?(n.focusItem(t[a]),u.onTabKey&&u.onTabKey()):n.input.value=c}}f.onclick=function(e){n.input.focus()},n.triggerInput=function(){var e=new Event("input",{bubbles:!0,cancelable:!0});n.input.dispatchEvent(e)},n.expandAlias=function(e,t){var r=!1;return u!==i&&e.length&&i.aliases.hasOwnProperty(e)&&(l=u,u=i,Object.assign(i,i.aliases[e]),re(n.resultsDiv,""),re(n.promptSpan,u.prompt),re(y,""),h=null,n.collapsingPoint=t,n.input.value=t,t.length&&n.triggerInput(),r=!0),r},n.collapseAlias=function(){var e=!1,t=n.input.value;return!l||u===l||t!==n.collapsingPoint&&""!==t||(u=l,l=null,re(n.promptSpan,u.prompt),t.length&&(n.input.value=t.substr(0,t.length-1)),n.triggerInput(),e=!0),e},n.focusItem=function(e){if("string"==typeof e&&(e=n.resultsDiv.querySelector(e)),e){e.classList.add("focused");const t=e.getBoundingClientRect(),r=n.resultsDiv.getBoundingClientRect();if(t.top<r.top||t.bottom>r.bottom){const n=t.top<r.top;e.scrollIntoView(n)}}},n.promptSpan=f.querySelector("#sk_omnibarSearchArea>span.prompt");var p,h,m,g,v,y=f.querySelector("#sk_omnibarSearchArea>span.resultPage");function w(){c!==n.input.value&&(c=n.input.value),u.onInput&&u.onInput.call(this)}function x(t){u&&u.onKeydown&&u.onKeydown.call(t.target,t)&&t.preventDefault(),xe.isSpecialKeyOf("<Esc>",t.sk_keyName)?(e.hidePopup(),t.preventDefault()):t.keyCode===b.keyCodes.enter?(u.activeTab=!t.ctrlKey,u.tabbed=n.tabbed^t.shiftKey,u.onEnter()&&e.hidePopup()):t.keyCode===b.keyCodes.space?n.expandAlias(n.input.value,"")&&t.preventDefault():t.keyCode===b.keyCodes.backspace&&n.collapseAlias()&&t.preventDefault()}function C(){var e=(p-1)*k.conf.omnibarMaxResults,t=(t=e+k.conf.omnibarMaxResults)>h.length?h.length:t,r=h.length;r===k.conf.omnibarHistoryCacheSize&&(r+="+"),re(y,`${e+1} - ${t} / ${r}`),g=h.slice(e,t);var o=n.input.value.trim(),i=null;o.length&&(i=le(o,!0)),n.listResults(g,(function(e){var t;if(e.hasOwnProperty("html"))t=n.createItemFromRawHtml(e);else if(e.hasOwnProperty("url")&&void 0!==e.url){if("Firefox"===S()&&/^(place|data):/i.test(e.url))return null;t=n.createURLItem(e,i)}else m&&((t=oe("li",`<div class="title">▷ ${n.highlight(i,e.title)}</div>`)).folder_name=e.title,t.folderId=e.id);return t}))}return n.resultsDiv=f.querySelector("#sk_omnibarSearchResult"),n.mappings.add(b.encodeKeystroke("<Tab>"),{annotation:"Forward cycle through the candidates.",feature_group:8,code:function(){d("bottom"===k.conf.omnibarPosition)}}),n.mappings.add(b.encodeKeystroke("<Shift-Tab>"),{annotation:"Backward cycle through the candidates.",feature_group:8,code:function(){d("bottom"!==k.conf.omnibarPosition)}}),n.mappings.add(b.encodeKeystroke("<Ctrl-'>"),{annotation:"Toggle quotes in an input element",feature_group:8,code:I}),n.highlight=function(e,t){return"data:image/"===t.substr(0,11)&&(t=t.substr(0,1024)),null===e?t:t.replace(e,(function(e){return"<span class=omnibar_highlight>"+e+"</span>"}))},n.createURLItem=function(e,t){e.title=e.title&&""!==e.title?e.title:fe(e.url);var r="🔥",o="",i=e.uid;e.hasOwnProperty("lastVisitTime")?(r="🕜",o=`<span class=omnibar_timestamp># ${E(e.lastVisitTime)}</span>`,o+=`<span class=omnibar_visitcount> (${e.visitCount})</span>`,i="H"+e.url):e.hasOwnProperty("dateAdded")?(r="⭐",o=`<span class=omnibar_folder>@ ${a[e.parentId].title||""}</span> <span class=omnibar_timestamp># ${E(e.dateAdded)}</span>`,i="B"+e.id):e.hasOwnProperty("width")?(r="🔖",i="T"+e.windowId+":"+e.id):e.type&&2===e.type.length&&e.type.charCodeAt(0)>255&&(r=e.type);var u=oe("li",`<div class="icon">${r}</div>`);return e.hasOwnProperty("favIconUrl")&&he(e,(u=oe("li",'<img class="icon"/>')).querySelector("img")),u.appendChild(oe("div",`<div class="title">${n.highlight(t,ae(e.title))} ${o}</div><div class="url">${n.highlight(t,ae(function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e.url)))}</div>`,{class:"text-container"})),u.uid=i,u.url=e.url,u},n.createItemFromRawHtml=function({html:e,props:t}){const n=oe("li",e);return"object"==typeof t&&Object.assign(n,t),n},n.detectAndInsertURLItem=function(e,t){if(/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/\n\s]+)\.([^:\/\n\s]+)/i.test(e)){var n=e;/^https?:\/\//.test(e)||(n="http://"+e),t.unshift({title:e,url:n})}else/^https?:\/\/(?:[^@\/\n]+@)?([^:\/\n\s]+)/i.test(e)&&t.unshift({title:e,url:e})},n.getPageSize=()=>k.conf.omnibarMaxResults,n.getHistoryCacheSize=()=>k.conf.omnibarHistoryCacheSize,n.listURLs=function(e,t){if(p=1,h=e,m=t,C(),-1!==r){const e=n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li");n.focusItem(e[r]),r=-1}},n.getItems=function(){return h},f.onShow=function(e){var t;n.input||(n.input=((t=document.createElement("input")).oninput=w,t.onkeydown=x,t.addEventListener("compositionstart",(function(e){t.oninput=null,t.onkeydown=null})),t.addEventListener("compositionend",(function(e){t.oninput=w,t.onkeydown=x,w()})),t),document.querySelector("#sk_omnibarSearchArea").insertBefore(n.input,y)),v=e,f.classList.remove("sk_omnibar_middle"),f.classList.remove("sk_omnibar_bottom"),"Safari-iOS"===S()&&(k.conf.omnibarPosition="bottom"),f.classList.add("sk_omnibar_"+k.conf.omnibarPosition),"bottom"===k.conf.omnibarPosition?(n.resultsDiv.remove(),f.insertBefore(n.resultsDiv,document.querySelector("#sk_omnibarSearchArea"))):(n.resultsDiv.remove(),f.append(n.resultsDiv)),n.tabbed=void 0===e.tabbed||e.tabbed,u=s[e.type],n.input.focus(),n.enter(),e.pref&&(n.input.value=e.pref),u.onOpen&&u.onOpen(e.extra),l=u,re(n.promptSpan,u.prompt),re(y,""),f.scrollTop=0},f.onHide=function(){delete n.cachedPromise,h=null,a=null,c="",n.input.value="",n.input.placeholder="",re(n.resultsDiv,""),l=null,u.onClose&&u.onClose(),n.exit(),u=null},n.openFocused=function(){var e,t=n.resultsDiv.querySelector("li.focused");t?e=t.url:-1===(e=n.input.value).indexOf(":")&&(e=i.aliases[k.conf.defaultSearchEngine].url+e);var r,o="";return t&&t.uid&&(o=(r=t.uid)[0],r=r.substr(1)),"T"===o?(r=r.split(":"),_("focusTab",{windowId:parseInt(r[0]),tabId:parseInt(r[1])})):e&&e.length&&_("openLink",{tab:{tabbed:this.tabbed,active:this.activeTab},url:e}),this.activeTab},n.listResults=function(e,t){if(re(n.resultsDiv,""),e&&0!==e.length){"bottom"===k.conf.omnibarPosition&&e.reverse();var r=document.createElement("ul");if(e.forEach((function(e){var o=t(e);o&&(r.append(o),o.onclick=()=>{o.url?_("openLink",{tab:{tabbed:!0,active:!0},url:o.url}):(n.input.value=o.query,n.input.focus())})})),n.resultsDiv.append(r),e=n.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li"),k.conf.focusFirstCandidate||u.focusFirstCandidate)e["bottom"===k.conf.omnibarPosition?e.length-1:0].classList.add("focused");"bottom"===k.conf.omnibarPosition&&e.length>0&&P(e[e.length-1])}},n.listWords=function(e){n.listResults(e,(function(e){var t=oe("li",`⌕ ${e}`);return t.query=e,t}))},n.html=function(e){re(n.resultsDiv,e)},n.addHandler=function(e,t){t.onEnter||(t.onEnter=n.openFocused.bind(t)),s[e]=t},n.listBookmarkFolders=function(e){_("getBookmarkFolders",null,(function(t){a={},t.folders.forEach((function(e){a[e.id]=e})),e&&e(t,a)}))},n.addHandler("Bookmarks",function(e){var t,n={prompt:`bookmark${Pe}`,inFolder:[]},r=!1,o=0;function i(){var r=n.inFolder.pop();r.folderId?_("getBookmarks",{parentId:t=r.folderId},n.onResponse):(t=void 0,_("getBookmarks",null,n.onResponse)),n.prompt=r.prompt,re(e.promptSpan,n.prompt),o=r.focused}return n.onEnter=function(){var r=Array.from(e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li")),i=!1,a=e.resultsDiv.querySelector("li.focused"),u=a.folderId;return u&&!this.activeTab?(_("getBookmarks",{parentId:u},(function(e){var t=e.bookmarks;for(var n of t)n.url&&_("openLink",{tab:{tabbed:!0,active:!1},url:n.url})})),n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))):u?(n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),n.prompt=a.folder_name+Me,re(e.promptSpan,n.prompt),e.input.value="",o=0,_("getBookmarks",{parentId:t=u},n.onResponse)):(i=e.openFocused.call(n))&&(n.inFolder.push({prompt:n.prompt,folderId:t,focused:r.indexOf(a)}),localStorage.setItem("surfingkeys.lastOpenBookmark",JSON.stringify(n.inFolder))),i},n.onOpen=function(){e.listBookmarkFolders((function(){var t=localStorage.getItem("surfingkeys.lastOpenBookmark");t?(n.inFolder=JSON.parse(t),i()):_("getBookmarks",null,n.onResponse),""!==e.input.value&&n.onInput()}))},n.onClose=function(){n.inFolder=[],n.prompt=`bookmark${Pe}`,t=void 0},n.onKeydown=function(o){var a=!1;if(o.keyCode===b.keyCodes.comma)r=!r,n.prompt=r?`bookmark folder${Me}`:`bookmark${Me}`,re(e.promptSpan,n.prompt),_("getBookmarks",{parentId:t,query:e.input.value},n.onResponse),a=!0;else if(o.keyCode===b.keyCodes.backspace&&n.inFolder.length&&!e.input.value.length)i(),a=!0;else if(o.ctrlKey&&o.shiftKey&&b.isWordChar(o)){var u=e.resultsDiv.querySelector("li.focused");if(u){var s=String.fromCharCode(o.keyCode);Normal.addVIMark(s,u.url),a=!0}}return a},n.onInput=function(){var r=e.input.value;_("getBookmarks",{parentId:t,caseSensitive:k.getCaseSensitive(r),query:r},n.onResponse)},n.onResponse=function(t){var n=t.bookmarks;if(r&&(n=n.filter((function(e){return!e.hasOwnProperty("url")||void 0===e.url}))),e.listURLs(n,!0),!e.resultsDiv.querySelector("li.focused")){n=e.resultsDiv.querySelectorAll("#sk_omnibarSearchResult>ul>li");e.focusItem(n[o])}},n}(n)),n.addHandler("AddBookmark",function(e){var t,n={focusFirstCandidate:!0,prompt:`add bookmark${Pe}`};return n.onOpen=function(r){n.page=r,e.listBookmarkFolders((function(r){t=r.folders,e.listResults(t.slice(),(function(e){return oe("li",`▷ ${e.title}`,{folder:e.id})})),_("getBookmark",null,(function(t){if(t.bookmarks.length){var r=t.bookmarks[0];re(e.promptSpan,`edit bookmark${Pe}`),e.resultsDiv.querySelector("li.focused").classList.remove("focused"),e.focusItem(`li[folder="${r.parentId}"]`)}var o=localStorage.getItem("surfingkeys.lastAddedBookmark");o&&(e.input.value=o,e.input.select(),n.onInput())}))}))},n.onTabKey=function(){var t=e.resultsDiv.querySelector("li.focused");e.input.value=t.innerHTML.substr(2)},n.onEnter=function(){n.page.path=[];var r,o=e.resultsDiv.querySelector("li.focused");if(o)n.page.folder=o.getAttribute("folder"),r=o.innerHTML.substr(2);else{var i=e.input.value,a=(i=i.split("/")).pop();a.length&&(n.page.title=a);for(var u=(i=i.filter((function(e){return e.length>0}))).length;u>0;u--){var s=t.filter((function(e){return e.title===`/${i.slice(0,u).join("/")}/`}));if(s.length){n.page.folder=s[0].id,n.page.path=i.slice(u),r="/"+i.join("/");break}}void 0===n.page.folder&&(n.page.folder=t[0].id,n.page.path=i,r=`${t[0].title}${i.join("/")}`)}return _("createBookmark",{page:n.page},(function(e){O("Bookmark created at {0}.".format(r),3e3)})),localStorage.setItem("surfingkeys.lastAddedBookmark",e.input.value),!0},n.onInput=function(){var n=e.input.value,r=k.getCaseSensitive(n),o=t.filter((function(e){return r?-1!==e.title.indexOf(n):-1!==e.title.toLowerCase().indexOf(n.toLowerCase())}));e.listResults(o,(function(e){return oe("li",`▷ ${e.title}`,{folder:e.id})}))},n}(n)),n.addHandler("History",Ue(`history${Pe}`,n,(()=>new Promise(((e,t)=>{_("getHistory",{maxResults:n.getHistoryCacheSize(),query:n.input.value,sortByMostUsed:k.conf.historyMUOrder},(function(t){e(t.history)}))}))))),n.addHandler("URLs",Ue(Pe,n,(()=>new Promise(((e,t)=>{_("getTabs",{queryInfo:k.conf.omnibarTabsQuery},(function(t){var r=t.tabs;_("getTopSites",null,(function(t){r=de(r=r.concat(t.urls),n.input.value),n.listBookmarkFolders((function(){_("getAllURLs",{maxResults:n.getHistoryCacheSize()-r.length,query:n.input.value},(function(t){r=r.concat(t.urls),e(r)}))}))}))}))}))))),n.addHandler("RecentlyClosed",Ue(`Recently closed${Pe}`,n,(()=>new Promise(((e,t)=>{_("getRecentlyClosed",null,(function(t){e(de(t.urls,n.input.value))}))}))))),n.addHandler("TabURLs",Ue(`Tab History${Pe}`,n,(()=>new Promise(((e,t)=>{_("getTabURLs",null,(function(t){e(de(t.urls,n.input.value))}))}))))),n.addHandler("Tabs",function(e){var t={focusFirstCandidate:!0},n={};return t.getResults=function(){e.cachedPromise=new Promise((function(e,t){n.tabsThreshold=Math.min(k.conf.tabsThreshold,Math.ceil(window.innerWidth/26)),_("getTabs",n,(function(t){e(t.tabs)}))}))},t.onOpen=function(r){r&&"gather"===r.action?(t.prompt=`Gather filtered tabs into current window${Pe}`,t.onEnter=function(){return _("gatherTabs",{tabs:e.getItems()}),!0},n={queryInfo:{currentWindow:!1}}):(t.prompt=`tabs${Pe}`,t.onEnter=e.openFocused.bind(t),n={},r&&"string"==typeof r.filter&&(n.filter=r.filter)),t.getResults(),t.onInput()},t.onInput=function(){e.cachedPromise.then((function(t){var n=de(t,e.input.value);e.listURLs(n,!1)}))},t}(n)),n.addHandler("Windows",function(e,t){const n={prompt:`Move current tab to window${Pe}`};return n.getResults=function(){e.cachedPromise=new Promise((function(e,t){_("getWindows",{query:""},(function(t){e(t.windows)}))}))},n.onEnter=function(){const t=e.resultsDiv.querySelector("li.focused");let n=-1;return t&&void 0!==t.windowId&&(n=t.windowId),_("moveToWindow",{windowId:n}),!0},n.onOpen=function(){e.input.placeholder="Press enter without focusing an item to move to a new window.",n.getResults(),n.onInput()},n.onInput=function(){e.cachedPromise.then((function(n){0===n.length&&(_("moveToWindow",{windowId:-1}),t.hidePopup());let r=n;const o=e.input.value;let i=null;o&&o.length&&(i=le(o,!1),r=n.filter((function(e){for(const t of e.tabs)if(i.test(t.title)||i.test(t.url))return!0;return!1}))),i=le(o,!0),e.listResults(r,(function(t){const n=oe("li");return n.windowId=parseInt(t.id),n.classList.add("window"),t.isPreviousChoice&&n.classList.add("focused"),t.tabs.forEach((t=>{const r=oe("div","",{class:"tab_in_window"});r.appendChild(oe("div",e.highlight(i,t.title),{class:"title"})),r.appendChild(oe("div",e.highlight(i,new URL(t.url).origin),{class:"url"})),n.appendChild(r)})),n.url=t.tabs.map((e=>e.url)).join("\n"),n}))}))},n}(n,e)),n.addHandler("VIMarks",function(e){var t={focusFirstCandidate:!0,prompt:`VIMarks${Pe}`};return t.onOpen=function(){var t=e.input.value,n=[];_("getSettings",{key:"marks"},(function(r){for(var o in r.settings.marks){var i=r.settings.marks[o];"string"==typeof i&&(i={url:i,scrollLeft:0,scrollTop:0}),""!==t&&-1===i.url.indexOf(t)||n.push({title:o,type:"🔗",uid:"M"+o,url:i.url})}e.listURLs(n,!1)}))},t.onInput=t.onOpen,t}(n)),n.addHandler("SearchEngine",i),n.addHandler("Commands",function(e,t){var n={focusFirstCandidate:!0,prompt:":"},r={};function o(e){e=e.trim();for(var t=[],n=!1,r="",o=0;o<e.length;o++)" "!==e.charAt(o)||n?'"'===e.charAt(o)?n=!n:r+=e.charAt(o):(t.push(r),r="");return t.push(r),t}function i(e){var n=o(e),i=n.shift();if(r.hasOwnProperty(i)){var a=r[i];a.code.call(a.code,n)}else t.contentCommand({action:"executeScript",cmdline:e})}return n.onOpen=function(){-1,_("getSettings",{key:"cmdHistory"},(function(t){var n=t.settings.cmdHistory;n.length&&e.listResults(n,(function(e){var t=oe("li",e);return t.cmd=e,t}))}))},n.onReset=n.onOpen,n.onInput=function(){var t=e.input.value,n=Object.keys(r).filter((function(e){return""===t||-1!==e.indexOf(t)}));n.length&&e.listResults(n,(function(e){var t=oe("li",`${e}<span class=annotation>${ae(r[e].annotation)}</span>`);return t.cmd=e,t}))},n.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").cmd},n.onEnter=function(){var t=!1,n=e.input.value;return n.length&&(k.updateHistory("cmd",n),i(n),e.input.value=""),t},t._actions.executeCommand=function(e){i(e.cmdline)},e.command=function(e,t,n){var o={code:n},i=Z({annotation:t,feature_group:14});o.feature_group=i.feature_group,o.annotation=i.annotation,r[e]=o},n}(n,e)),n.addHandler("OmniQuery",function(e,t){var n,r={prompt:"ǭ"};function o(e,t,n){return n.indexOf(e)===t}return r.onOpen=function(r){r&&(e.input.value=r,t.contentCommand({action:"omnibar_query_entered",query:r})),t.contentCommand({action:"getPageText"},(function(e){var t=/[^a-zA-Z]+/;n=e.data.toLowerCase().split(t).filter(o)}))},r.onInput=function(){var t=e.input.value,r=n.filter((function(e){return-1!==e.indexOf(t)}));r.length&&e.listResults(r,(function(e){return oe("li",e)}))},r.onTabKey=function(){e.input.value=e.resultsDiv.querySelector("li.focused").innerText},r.onEnter=function(){t.contentCommand({action:"omnibar_query_entered",query:e.input.value})},r}(n,e)),n.addHandler("UserURLs",function(e){var t,n={focusFirstCandidate:!0,prompt:`UserURLs${Pe}`};return n.onOpen=function(e){t=e,n.onInput()},n.onInput=function(){var n=e.input.value,r=[];r=de(t,n),e.listURLs(r,!1)},n}(n)),e._actions.updateOmnibarResult=function(e){n.listWords(e.words)},n},Be=(e,t,n)=>{t("setProxy","setProxy <proxy_host>:<proxy_port> [proxy_type|PROXY]",(function(e){return _("updateProxy",{proxy:(e.length>1?e[1]:"PROXY")+" "+e[0]}),!0})),t("setProxyMode","setProxyMode <always|direct|byhost|system|clear>",(function(e){return _("updateProxy",{mode:e[0]},(function(e){-1!==["byhost","always"].indexOf(e.proxyMode)?O("{0}: {1}".format(e.proxyMode,e.proxy),3e3):O(e.proxyMode,3e3)})),!0})),t("listVoices","list tts voices",(function(){_("getVoices",null,(function(e){var t=e.voices.map((function(e){return`<tr><td>${e.voiceName}</td><td>${e.lang}</td><td>${e.gender}</td><td>${e.remote}</td></tr>`}));t.unshift("<tr style='font-weight: bold;'><td>voiceName</td><td>lang</td><td>gender</td><td>remote</td></tr>"),A("<table style='width:100%'>{0}</table>".format(t.join("")))}))})),t("testVoices","testVoices <locale> <text>",(function(e){_("getVoices",null,(function(t){var n=t.voices,r=0;e.length>0&&(n=n.filter((function(t){return-1!==t.lang.indexOf(e[0])})));var o,i="This is to test voice with SurfingKeys";for(e.length>1&&(i=e[1]),r=0;r<n.length-1;r++)o=`${i}, ${n[r].voiceName} / ${n[r].lang}.`,readText(o,{enqueue:!0,verbose:!0,voiceName:n[r].voiceName});o=`${i}, ${n[r].voiceName} / ${n[r].lang}.`,readText(o,{enqueue:!0,verbose:!0,voiceName:n[r].voiceName,onEnd:function(){A("All voices test done.")}})}))})),t("stopReading","#13Stop reading.",(function(e){_("stopReading")})),t("feedkeys","feed mapkeys",(function(t){e.feedkeys(t[0])})),t("quit","#5quit chrome",(function(){_("quit")})),t("clearHistory","clearHistory <find|cmd|...>",(function(e){runtime.updateHistory(e[0],[])})),t("listSession","list session",(function(){_("getSettings",{key:"sessions"},(function(e){n.listResults(Object.keys(e.settings.sessions),(function(e){return oe("li",e)}))}))})),t("createSession","createSession [name]",(function(e){_("createSession",{name:e[0]})})),t("deleteSession","deleteSession [name]",(function(e){return _("deleteSession",{name:e[0]}),!0})),t("openSession","openSession [name]",(function(e){_("openSession",{name:e[0]})})),t("listQueueURLs","list URLs in queue waiting for open",(function(e){_("getQueueURLs",null,(function(e){n.listResults(e.queueURLs,(function(e){return oe("li",e)}))}))})),t("clearQueueURLs","clear URLs in queue waiting for open",(function(e){_("clearQueueURLs")})),t("timeStamp","print time stamp in human readable format",(function(e){var t=new Date(parseInt(e[0]));n.listWords([t.toString()])})),t("userAgent","set user agent",(function(e){_("setUserAgent",{userAgent:e.join(" ")})}))},Fe=function(){const e=Ee();xe.init();const t=Oe(),n=Ae(t);n.enter();const r=Re(t,n),o=Le(e,r),i=new xe("Front");i._actions={},i.topSize=[0,0];const a=De(i,e);Be(n,a.command,a);const u={Insert:t,Normal:n,Visual:o,Omnibar:a};Ie(e,t,n,r,o,i,{});var s=i._actions,c={};i.contentCommand=function(e,t){e.toContent=!0,e.id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),t&&(e.ack=!0,c[e.id]=t),top.postMessage({surfingkeys_uihost_data:e},i.topOrigin)},i.postMessage=function(e){top.postMessage({surfingkeys_uihost_data:e},i.topOrigin)};var l,f="";function d(e,t,n){this.enter=function(){n&&n(),l=this,top.postMessage({surfingkeys_uihost_data:{action:"setFrontFrame",pointerEvents:e,frameHeight:t}},i.topOrigin)},this.nextState=function(){var e,t=Array.from(document.body.querySelectorAll("body>div")).filter((function(e){return"none"!==e.style.display})),n=t.map((function(e){var t=e.id;return-1===["sk_keystroke","sk_banner"].indexOf(t)&&("sk_status"===t?null!==i.statusBar.querySelector("input"):!e.noPointerEvents)}));n.push(!1),this!==(e=(n=n.reduce((function(e,t){return e||t})))?g:t.length>0?m:p)&&e.enter()}}i.addEventListener("keydown",(function(e){if(xe.isSpecialKeyOf("<Esc>",e.sk_keyName))i.hidePopup(),e.sk_stopPropagation=!0;else if("none"!==C.style.display){const t=C.querySelectorAll("div.sk_tab>div.sk_tab_hint");if(t.length>0){const n=e.sk_keyName,o=r.getCharacters().toLowerCase();if(e.keyCode===b.keyCodes.backspace)f.length>0&&pe(t,f=f.substr(0,f.length-1));else if(-1!==o.indexOf(n.toLowerCase())){const e=pe(t,f+=n.toUpperCase());e.matched?(_("focusTab",{windowId:e.matched.windowId,tabId:e.matched.id}),f="",i.hidePopup()):0===e.candidates&&(f="",i.hidePopup())}else U(v,{type:"Tabs"});e.sk_stopPropagation=!0}}}));const p=new d("none","0px"),m=new d("none","100%"),g=new d("all","100%",(function(){window.focus()}));l=p,i.flush=function(){l.nextState()},i.visualCommand=function(e){"none"!==y.style.display?o[e.action](e.query):i.contentCommand(e)};const v=document.getElementById("sk_omnibar");i.statusBar=document.getElementById("sk_status");const y=document.getElementById("sk_usage"),w=document.getElementById("sk_popup"),x=document.getElementById("sk_editor"),E=document.getElementById("sk_nvim"),C=document.getElementById("sk_tabs"),T=document.getElementById("sk_banner"),O=document.getElementById("sk_bubble"),A=O.querySelector("div.sk_bubble_content"),L=O.querySelector("div.sk_arrow"),R=A.classList;function I(){R.remove("sk_scroller_indicator_top"),R.remove("sk_scroller_indicator_middle"),R.remove("sk_scroller_indicator_bottom")}A.onscroll=function(e){I(),0===this.scrollTop?R.add("sk_scroller_indicator_top"):this.scrollTop+this.offsetHeight>=this.scrollHeight?R.add("sk_scroller_indicator_bottom"):R.add("sk_scroller_indicator_middle")};var N,M=document.getElementById("sk_keystroke");function P(e,t){N&&"none"!==N.style.display&&(N.style.display="none",N.onHide&&N.onHide()),(N=e).style.display="",N.onShow&&N.onShow(t),i.startInputGuard()}function U(e,t){i.enter(0,!0),P(e,t),i.flush()}function D(e,t){var n=["Help","Mouse Click","Scroll Page / Element","Tabs","Page Navigation","Sessions","Search selected with","Clipboard","Omnibar","Visual Mode","vim-like marks","Settings","Chrome URLs","Proxy","Misc","Insert Mode","Lurk Mode"];X((function(r){var o,i=n.map((function(){return[]}));i[0].push("<div><span class=kbd-span><kbd>&lt;Alt-s&gt;</kbd></span><span class=annotation>{0}</span></div>".format(r("Toggle SurfingKeys on current site"))),(e=e.concat((o=a.mappings).getWords().map((function(e){var t=o.find(e).meta;return{word:e,feature_group:t.feature_group,annotation:t.annotation}})).filter((function(e){return e.annotation&&e.annotation.length>0})))).forEach((function(e){var t=`<div><span class=kbd-span><kbd>${ae(b.decodeKeystroke(e.word))}</kbd></span><span class=annotation>${r(e.annotation)}</span></div>`;i[e.feature_group].push(t)})),i=i.map((function(e,t){return e.length?"<div><div class=feature_name><span>{0}</span></div>{1}</div>".format(r(n[t]),e.join("")):""})).join(""),i+=`<p style='float:right; width:100%; text-align:right'><a href='https://github.com/brookhong/surfingkeys' target='_blank' style='color:#0095dd'>${r("More help")}</a></p>`,t(i)}))}function B(e){re(w,e),U(w)}i.startInputGuard=()=>{if(S().startsWith("Safari"))var e=setInterval((()=>{let t=null;for(const e of document.querySelectorAll("input, textarea"))if(e.getBoundingClientRect().width){t=e;break}t&&document.activeElement!==t?(t.focus(),t.value=" ",setTimeout((()=>{t.value=""}),10)):clearInterval(e),console.log(e)}),100)},s.hidePopup=function(){N&&"none"!==N.style.display&&(N.style.display="none",i.flush(),N.onHide&&N.onHide(),i.exit())},i.hidePopup=s.hidePopup,C.onShow=function(e){re(C,"");var t=r.genLabels(e.length-1),n=0;const o=window.innerWidth/e.length-2,a=k.conf.verticalTabs;C.className=a?"vertical":"horizontal",e.forEach((function(e,r){var i=document.createElement("div");if(i.setAttribute("class","sk_tab"),a||(i.style.width=o+"px"),!1===e.active){re(i,`<div class=sk_tab_hint>${t[n]}</div><div class=sk_tab_wrap><div class=sk_tab_icon><img/></div><div class=sk_tab_title>${ae(e.title)}</div></div>`);const r=i.querySelector("div.sk_tab_hint");r.label=t[n],r.link={id:e.id,windowId:e.windowId},n++}else re(i,`<div class=sk_tab_wrap><div class=sk_tab_icon><img/></div><div class=sk_tab_title>${ae(e.title)}</div></div>`),i.style.boxShadow="0px 3px 7px 0px rgba(245, 245, 0, 0.9)";he(e,i.querySelector("img")),a?i.append(oe("div","🚀",{class:"tab_rocket"})):i.querySelector("div.sk_tab_title").style.width=o-24+"px",C.append(i)})),C.getBoundingClientRect().height>i.topSize[1]&&(C.className="inline")},s.chooseTab=function(){const e=Math.min(k.conf.tabsThreshold,Math.ceil(window.innerWidth/26));_("getTabs",{queryInfo:{currentWindow:!0},tabsThreshold:e},(function(t){t.tabs.length>e?U(v,{type:"Tabs"}):t.tabs.length>0&&U(C,t.tabs)}))},y.onShow=function(e){D(e.metas,(function(e){re(y,e)}))},s.showUsage=function(e){U(y,e)},s.applyUserSettings=function(e){for(var t in e.userSettings)k.conf.hasOwnProperty(t)&&(k.conf[t]=e.userSettings[t]);"theme"in e.userSettings&&re(document.getElementById("sk_theme"),e.userSettings.theme)},s.addMapkey=function(e){e.old_keystroke in xe.specialKeys?xe.specialKeys[e.old_keystroke].push(e.new_keystroke):u.hasOwnProperty(e.mode)&&J(u[e.mode],e.new_keystroke,e.old_keystroke)},s.addVimMap=function(e){i.vimMappings.push([e.lhs,e.rhs,e.ctx])},s.addVimKeyMap=function(e){i.vimKeyMap=e.vimKeyMap},s.getUsage=function(e){delete e.ack,D(e.metas,(function(t){top.postMessage({surfingkeys_uihost_data:{data:t,toContent:!0,id:e.id}},i.topOrigin)}))},i.showUsage=i.hidePopup,s.showPopup=function(e){B(e.content)},document.addEventListener("surfingkeys:showPopup",(function(e){B(...e.detail)})),i.vimMappings=[];let F=null;x.onShow=function(e){F||(F=new Promise(((e,t)=>{import("./ace.js").then((()=>{e(function(e,t){var n=new xe("AceEditor");document.getElementById("sk_editor").style.height="30%";var r,o=ace.edit("sk_editor");function i(){return o.getValue()!=r}var a={open:function(t,n,r){const i=e.passThrough();var a=r.onClose;r.onClose=function(){i.exit(),a&&a()},o.state.cm.openDialog(t,(function(e){n(e),r.onClose()}),r)}};function u(){document.activeElement.blur(),t.hidePopup()}function s(){var e=m();t.onEditorSaved?(t.onEditorSaved(e),t.onEditorSaved=void 0):t.contentCommand({action:"ace_editor_saved",data:e})}function c(){u(),s()}function l(){var e;return _("getAllURLs",null,(function(t){e=t.urls.map((function(e){var t=0,n=1;return e.hasOwnProperty("typedCount")&&(t=e.typedCount),e.hasOwnProperty("visitCount")&&(n=e.visitCount),{caption:e.url,value:e.url,score:10*t+n,meta:"local"}}))})),{identifierRegexps:[/.*/],getCompletions:function(t,n,r,o,i){i(null,e)}}}n.addEventListener("keydown",(function(e){e.sk_suppressed=!0,!xe.isSpecialKeyOf("<Esc>",e.sk_keyName)||o.completer&&o.completer.activated||("emacs"===k.conf.aceKeybindings?(n.onExit=u,n.exit()):"normal"!==o.state.cm.mode||o.state.cm.state.vim.status||(i()?a.open('<span style="font-family: monospace">Quit anyway? Y/n </span><input type="text"/>',(function(e){"y"===e.toLowerCase()&&(n.onExit=u,n.exit())}),{bottom:!0,value:"Y",onKeyDown:function(e,t,n){e.keyCode!==b.keyCodes.enter&&e.keyCode!==b.keyCodes.ESC||n()}}):(n.onExit=u,n.exit())))}));var f=null;function d(e){var t=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/,n=e.split(t),r={};return n.forEach((function(e){e="sk_"+e,r.hasOwnProperty(e)?r[e]++:r[e]=1})),Object.keys(r).map((function(e){return{caption:e=e.substr(3),value:e,score:r[e],meta:"local"}}))}var p,h={getCompletions:function(e,n,r,o,i){f?i(null,f):t.contentCommand({action:"getPageText"},(function(e){f=d(e.data),i(null,f)}))}};function m(){var e=o.getValue();return"select"===p&&(e=(e=(e=o.session.getLine(o.selection.lead.row)).match(/.*>< ([^<]*)$/))?e[1]:""),e}function g(){var e=o.state.cm;e.mode="normal",e.on("vim-mode-change",(function(t){e.mode=t.mode})),e.on("0-register-set",(function(e){var t=document.activeElement;Clipboard.write(e.text),t.focus()}));var r=e.constructor.Vim;r.defineEx("write","w",(function(e,t){s()}));const i=function(e,t){n.onExit=c,n.exit(),o.state.cm.signal("vim-command-done","")};r.defineEx("wq","wq",i),r.defineEx("x","x",i),r.map("<CR>",":wq","normal"),r.defineEx("bnext","bn",(function(e,n){t.contentCommand({action:"nextEdit",backward:!1})})),r.defineEx("bprevious","bp",(function(e,n){t.contentCommand({action:"nextEdit",backward:!0})})),r.defineEx("quit","q",(function(e,t){n.onExit=u,n.exit(),o.state.cm.signal("vim-command-done","")})),t.vimMappings.forEach((function(e){r.map.apply(r,e)}));var a=o.getKeyboardHandler().defaultKeymap;return t.vimKeyMap&&t.vimKeyMap.length&&a.unshift.apply(a,t.vimKeyMap),r}function v(){return o.$emacsModeHandler.addCommands({closeAndSave:{exec:function(e){n.onExit=c,n.exit()},readOnly:!0}}),o.$emacsModeHandler.bindKey("C-x C-s","closeAndSave"),o.$emacsModeHandler}ace.config.loadModule("ace/ext/language_tools",(function(e){o.language_tools=e,ace.config.loadModule("ace/autocomplete",(function(e){e.Autocomplete.startCommand.bindKey="Tab",e.Autocomplete.prototype.commands.Space=e.Autocomplete.prototype.commands.Tab,e.Autocomplete.prototype.commands.Tab=e.Autocomplete.prototype.commands.Down,e.Autocomplete.prototype.commands["Shift-Tab"]=e.Autocomplete.prototype.commands.Up,e.FilteredList.prototype.filterCompletions=function(e,t){for(var n,r=[],o=t.toUpperCase(),i=0;n=e[i];i++){var a=n.value.toUpperCase();if(a){var u=a.indexOf(o),s=0;-1!==u&&(s|=Math.pow(2,t.length)-1<<u,n.matchMask=s,n.exactMatch=0,r.push(n))}}return r}})),o.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!1,enableSnippets:!1})})),o.setTheme("ace/theme/chrome");var y=new Promise((function(e,t){var n=g;"emacs"===k.conf.aceKeybindings?n=v:k.conf.aceKeybindings="vim",o.setKeyboardHandler("ace/keyboard/"+k.conf.aceKeybindings,(function(){e(n())}))}));return o.container.style.background="#f1f1f1",o.$blockScrolling=1/0,n.show=function(e){y.then((function(t){o.setValue(e.content,-1),r=e.content,o.container.querySelector("textarea").focus(),n.enter(),p=e.type,o.setFontSize(16),"ace/keyboard/emacs"===t.$id?("url"===e.type?(o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([l()]),o.container.style.height="30%"):"input"===e.type?(o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([h]),o.container.style.height=""):(o.setOption("showLineNumbers",!0),o.language_tools.setCompleters([h]),o.container.style.height="30%"),o.setReadOnly("select"===e.type),setTimeout((function(){o.renderer.session.$undoManager.reset()}),1)):(t.unmap("<CR>","insert"),t.unmap("<C-CR>","insert"),"url"===e.type?(t.map("<CR>",":wq","insert"),o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([l()]),o.container.style.height="30%"):"input"===e.type?(t.map("<CR>",":wq","insert"),o.setOption("showLineNumbers",!1),o.language_tools.setCompleters([h]),o.container.style.height="16px"):(t.map("<C-CR>",":wq","insert"),o.setOption("showLineNumbers",!0),o.language_tools.setCompleters([h]),o.container.style.height="30%"),o.setReadOnly("select"===e.type),t.map("<C-d>","<C-w>","insert"),t.exitInsertMode(o.state.cm),o.state.cm.setCursor(e.initial_line,0),o.state.cm.ace.renderer.scrollCursorIntoView(),setTimeout((function(){o.renderer.session.$undoManager.reset()}),1),o.state.cm.ace.setOption("indentedSoftWrap",!1),o.state.cm.ace.setOption("wrap",!0))}))},n}(n,i))}))}))),F.then((t=>{t.show(e)}))};let H=null;function K(e,t){T.style.cssText="",T.style.display="",T.style.top="0px",re(T,ae(e)),i.flush(),setTimeout((function(){T.style.cssText="",T.style.display="none",i.flush()}),t||1600)}var j;function q(){j&&(clearTimeout(j),j=void 0)}function z(e){X((function(t){var n=e.accumulated,r=e.candidates;(n=Object.keys(r).sort().map((function(n){var o=r[n];if(o.annotation){const r=n.substr(e.accumulated.length);return`<div><span class=kbd-span><kbd>${ae(b.decodeKeystroke(e.accumulated))}<span class=candidates>${ae(b.decodeKeystroke(r))}</span></kbd></span><span class=annotation>${t(o.annotation)}</span></div>`}return""})).join("")).length>0&&j&&(re(M,n),M.classList.add("expandRichHints"),i.flush())}))}function W(){"none"!==O.style.display&&i.contentCommand({action:"updateInlineQuery"})}return E.onShow=function(e){H||(H=new Promise(((e,t)=>{import("./neovim_lib.js").then((t=>{t.default(E).then((({nvim:t,destroy:r})=>{function o(){n.enter(),r(),i.hidePopup()}function a(e){const[t,n]=e;"WriteData"===t&&(i.contentCommand({action:"ace_editor_saved",data:n[0].join("\r")}),o())}t.on("nvim:open",(()=>{t.on("surfingkeys:rpc",a)})),t.on("nvim:close",(()=>{t.off("surfingkeys:rpc",a),o()})),e(t)}))}))}))),H.then((t=>{n.exit(),_("connectNative",{mode:"embed"},(n=>{t.connect(n.url,(()=>{t.command(`call NewScratch("${e.file_name}", "${h(e.content)}", "${e.type}")`)}))}))}))},s.showEditor=function(e){e.onEditorSaved&&(i.onEditorSaved=e.onEditorSaved),e.file_name?U(E,e):U(x,e)},i.showEditor=s.showEditor,s.openOmnibar=function(e){U(v,e);var t=e.style||"";re(v.querySelector("style"),`#sk_omnibar {${t}}`)},i.openOmnibar=s.openOmnibar,s.openFinder=function(){Ke.open()},document.addEventListener("surfingkeys:openFinder",(function(e){Ke.open()})),s.showBanner=function(e){K(e.content,e.linger_time)},document.addEventListener("surfingkeys:showBanner",(function(e){K(...e.detail)})),s.showBubble=function(e){var t=e.position;t.left+=t.winX,t.top+=t.winY,O.style.top="0px",O.style.left="0px",re(A,e.content),A.style.maxWidth=t.winWidth-32+"px",A.scrollTop=0,I(),O.style.display="";var n=O.offsetWidth,r=O.offsetHeight,o=[t.left-11-n/2,n/2];o[0]<t.winX?(o[1]+=o[0]-t.winX,o[0]=t.winX):o[0]+n>t.winWidth&&(o[1]+=o[0]-t.winX-t.winWidth+n,o[0]=t.winX+t.winWidth-n),L.style.left=o[1]+t.width/2-2+"px",O.style.left=o[0]+"px",O.noPointerEvents=e.noPointerEvents,t.top+t.height/2>t.winHeight/2?(L.setAttribute("dir","down"),L.style.top="100%",A.style.maxHeight=t.top-12-32+"px",r=O.offsetHeight,O.style.top=t.top-r-12+"px"):(L.setAttribute("dir","up"),L.style.top="-12px",A.style.maxHeight=t.winHeight-(t.top+t.height+12)-32+"px",r=O.offsetHeight,O.style.top=t.top+t.height+12+"px"),A.scrollHeight>A.offsetHeight&&(O.noPointerEvents=!1,R.add("sk_scroller_indicator_top")),i.flush(),O.noPointerEvents||(P(O,{}),i.enter(0,!0))},s.hideBubble=function(){O.style.display="none",i.flush()},s.visualUpdated=function(e){i.statusBar.querySelector("input").focus()},s.showStatus=function(e){He.show(e.contents,e.duration)},document.addEventListener("surfingkeys:showStatus",(function(e){He.show(...e.detail)})),i.toggleStatus=function(e){i.statusBar.style.display=e?"":"none"},s.toggleStatus=function(e){i.toggleStatus(e.visible)},s.hideKeystroke=function(){"none"!==M.style.display&&(M.classList.remove("expandRichHints"),re(M,""),M.style.display="none",i.flush()),k.conf.richHintsForKeystroke>0&&k.conf.richHintsForKeystroke<1e4&&q()},s.showKeystroke=function(e){if("none"!==M.style.display&&M.classList.contains("expandRichHints"))z(e.keyHints);else{q(),M.style.display="",i.flush();var t=M.innerHTML+ae(b.decodeKeystroke(e.keyHints.key));re(M,t),k.conf.richHintsForKeystroke>0&&k.conf.richHintsForKeystroke<1e4&&(j=setTimeout((function(){z(e.keyHints)}),k.conf.richHintsForKeystroke))}},s.initFrontend=function(e){return i.topOrigin=e.origin,i.topSize=e.winSize,(new Date).getTime()},window.addEventListener("message",(function(e){var t=e.data&&e.data.surfingkeys_frontend_data;if(void 0!==t)if(c[t.id])(0,c[t.id])(t)||delete c[t.id];else if(t.action&&s.hasOwnProperty(t.action)){var n=s[t.action](t);t.ack&&top.postMessage({surfingkeys_uihost_data:{data:n,action:t.action+"Ack",toContent:!0}},i.topOrigin)}}),!0),document.onmouseup=function(e){if(O.contains(e.target)){var t=window.getSelection().toString().trim()||Q(!0);t&&t.length>0&&i.contentCommand({action:"updateInlineQuery",word:t},(function(){window.addEventListener("resize",W)}))}else O.style.display="none",i.flush(),i.contentCommand({action:"emptySelection"}),window.removeEventListener("resize",W)},O.querySelector("div.sk_bubble_content").addEventListener("mousewheel",(function(e){(e.deltaY>0&&this.scrollTop+this.offsetHeight>=this.scrollHeight||e.deltaY<0&&this.scrollTop<=0)&&e.preventDefault()}),{passive:!1}),i}();var He=function(){var e={},t=null,n=Fe.statusBar;return e.show=function(r,o){t&&(clearTimeout(t),t=null);for(var i=n.querySelectorAll("span"),a=0;a<r.length;a++)void 0!==r[a]&&re(i[a],r[a]);var u=-1;for(a=0;a<i.length;a++)i[a].innerHTML.length?(u=a,i[a].style.padding="0px 8px",i[a].style.borderRight="1px solid #999"):(i[a].style.padding="",i[a].style.borderRight="");-1===u?n.style.display="none":(i[u].style.borderRight="",n.style.display="block"),Fe.flush(),o&&(t=setTimeout((function(){e.show(["","","",""])}),o))},e}(),Ke=function(){var e,t,n=new xe("Find","/");function r(){e=null,He.show(["",""]),n.exit()}return n.addEventListener("keydown",(function(e){e.sk_suppressed=!0})).addEventListener("mousedown",(function(t){t.target!==e&&r(),t.sk_suppressed=!0})),n.open=function(){t=-1,He.show(["/",'<input id="sk_find" class="sk_theme"/>']),e=Fe.statusBar.querySelector("input"),S().startsWith("Safari")||(e.oninput=function(){e.value.length&&"."!==e.value&&(Fe.visualCommand({action:"visualUpdate",query:e.value}),e.focus(),e.setSelectionRange(e.value.length,e.value.length))});var o=[];_("getSettings",{key:"findHistory"},(function(e){o=e.settings.findHistory})),e.onkeydown=function(n){if(xe.isSpecialKeyOf("<Esc>",n.sk_keyName))r(),Fe.visualCommand({action:"visualClear"});else if(n.keyCode===b.keyCodes.enter){(i=e.value).length&&"."!==i&&(n.ctrlKey&&(i="\\b"+i+"\\b"),r(),k.updateHistory("find",i),Fe.visualCommand({action:"visualEnter",query:i}))}else if((n.keyCode===b.keyCodes.upArrow||n.keyCode===b.keyCodes.downArrow)&&o.length){t=n.keyCode===b.keyCodes.upArrow?t+1:t+o.length-1,t%=o.length;var i=o[t];e.value=i,Fe.visualCommand({action:"visualUpdate",query:i}),n.preventDefault()}},e.focus(),Fe.startInputGuard(),n.enter()},n}()})()})();